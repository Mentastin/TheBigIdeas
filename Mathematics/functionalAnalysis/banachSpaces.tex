\chapter{Normed and Banach spaces}
In this chapter we will always use either $\mathbb{F} = \R$ or $\mathbb{F} = \C$.

\begin{definition}
\begin{itemize}
\item A \udef{normed space} is a vector space equipped with a norm.
\item A \udef{Banach space} is a normed vector space that is complete as a metric space.
\end{itemize}
\end{definition}

A finite-dimensional normed space is automatically a Banach by proposition \ref{finiteDimComplete}.

Every proper subspace $U$ of a normed vector space $V$ has empty interior.
A nice consequence of this is that any closed proper subspace is necessarily nowhere dense. So if V is a Banach space, the Baire category theorem implies that V cannot be a countable union of closed proper subspaces. In particular, an infinite dimensional Banach space cannot be a countable union of finite dimensional subspaces. This means, for example, that a vector space of countable dimension (e.g\ the space of polynomials) cannot be equipped with a complete norm.

The space $\Bounded(V,W)$ is a Banach space.


Complemented subspace problem: \url{https://arxiv.org/pdf/math/0501048v1.pdf}


TODO: \url{https://math.stackexchange.com/questions/2151779/normed-vector-spaces-over-finite-fields/2568231}

\section{Normed spaces}

\begin{lemma}
A subspace of a normed vector space is a normed space, with the norm given by the restriction of the norm in the larger space.
\end{lemma}

\begin{definition}
A vector with norm 1 is called a \udef{unit vector}. Unit vectors are often written with a hat:
\[ \norm{\vhat{v}} = 1. \]
\end{definition}

\subsection{Uniform norm}
\begin{lemma} \label{vectorSpaceUniformNorm}
Let $\sSet{V,\norm{\cdot}}$ be a normed vector space and $\sSet{X,d}$ a metric space. The uniform norm on $(X\to V)$ is a norm.
\end{lemma}
By \ref{groupUniformNorm}, the norm convergence of this norm is the uniform convergence.
\begin{proof}
It is a group norm by \ref{groupUniformNorm}. We just need to show that it is positively homogeneous:
\[ \norm{\lambda f}_u = \sup_{x\in X}\norm{\lambda f(x)} = \sup_{x\in X}|\lambda|\norm{f(x)} = |\lambda|\sup_{x\in X}\norm{f(x)} = |\lambda|\norm{f}_u. \]
\end{proof}

\subsection{TODO from TVS theory}
\begin{proposition} \label{dualNormTopologyStrong}
Let $\sSet{V, \norm{\cdot}}$ be a normed space. The norm topology on $\dual{V}$ is equal to the strong topology $\beta(\dual{V}, V)$.
\end{proposition}
\begin{proof}
TODO!
\end{proof}

\begin{lemma} \label{polarOfBall}
Let $\sSet{V, \norm{\cdot}}$ be a normed space and $\epsilon >0$. Then $\cball_V(0,\epsilon)^\pol = \cball_{\dual{V}}(0,\epsilon)$.
\end{lemma}
\begin{proof}
We have
\begin{align*}
f\in \cball_V(0,\epsilon)^\pol &\iff \forall x\in \cball_V(0,\epsilon): \; \abspair{f,x} \leq 1 \\
&\iff \forall x\in \cball_V(0,1): \; \abspair{f,\epsilon^{-1}x} \leq 1 \\
&\iff \forall x\in \cball_V(0,1): \; \abspair{f,x} \leq \epsilon \\
&\iff \norm{f} \leq \epsilon \\
&\iff f\in \cball_{\dual{V}}(0,\epsilon).
\end{align*}
\end{proof}

\begin{proposition}
Let $\sSet{V, \norm{\cdot}}$ be a normed space. Then $\cball_{\dual{V}}(0, 1)$ is pointwise compact.
\end{proposition}
\begin{proof}
By \ref{polarOfBall} and \ref{alaogluTheorem}.
\end{proof}

\subsection{The topology of a normed space}
\begin{definition}
Let $\sSet{V,\norm{\cdot}}$ be a normed space. The initial vector space convergence w.r.t. the norm is called the \udef{norm convergence}.
\end{definition}
The norm convergence is topological TODO ref(!). Its topology is called the \udef{norm topology}.

\begin{lemma}
The norm convergence is \emph{not} the initial convergence w.r.t. to the norm.
\end{lemma}
\begin{proof}
In the initial convergence w.r.t. to the norm, all vectors of the same norm are indistinguishable, so this convergence space is not $T_0$.

On the other hand, $\{0\}$ is closed in $\R$ and thus its preimage $\{0\} \subset V$ is closed in the norm topology (TODO ref preimage closed is closed). By \ref{HausdorffCriterionConvergenceGroup}, we have that the norm convergence must be Hausdorff, or $T_2$.
\end{proof}

\begin{proposition}
The norm convergence is topological and metric.

Every normed space can be viewed as a metric space with the metric $d:V\times V \to [0,\infty[$ given by
\[ d(x,y) = \norm{x-y}. \]
This metric has the properties of
\begin{itemize}[leftmargin=6cm]
\item[\textbf{Translation invariance}] $d(x+a, y+a) = d(x,y)$;
\item[\textbf{Scaling}] $d(\lambda x, \lambda y) = |\lambda|d(x,y)$.
\end{itemize}
Conversely, any metric with translation invariance and scaling determines a norm:
\[ \norm{x} = d(x,\vec{0}). \]
Passing from norm to metric back to norm, we recover the original norm.
\end{proposition}
\begin{lemma}
A linear map $L:V\to W$ between normed spaces is an isometry for the metric \textup{if and only if} it preserves the norm, i.e.\
\[ \forall v\in V: \quad \norm{v}_V = \norm{L(v)}_W. \]
\end{lemma}
\begin{proof}
Assume $L$ is an isometry, then
\[ \norm{v} = d(v,\vec{0}) = d(L(v),L(\vec{0})) = \norm{L(v) - L(\vec{0})} = \norm{L(v) - \vec{0}} = \norm{L(v)}. \]
Assume $L$ preserves the norm, then
\[ d(L(v_1), d(v_2)) = \norm{L(v_1)-L(v_2)} = \norm{L(v_1-v_2)} = \norm{v_1-v_2} = d(v_1,v_2). \]
\end{proof}

\begin{proposition}
Let $V$ be a normed vector space, then the norm $\norm{\cdot}:V\to \R$ is a continuous map.
\end{proposition}
\begin{proof}
The reverse triangle inequality, $|\norm{v}-\norm{w}| \leq \norm{v-w}$, implies that the norm is Lipschitz continuous with Lipschitz constant $1$, so we can use \ref{LipschitzcontinuousContinuous}.
\end{proof}

\subsubsection{Continuous operators}
\begin{theorem} \label{boundedLinearMaps}
Let $L$ be a linear operator between normed spaces $V,W$. The following are equivalent:
\begin{enumerate}
\item $L$ is continuous;
\item $L$ is continuous at $0$;
\item $L$ is uniformly continuous;
\item $L$ is Lipschitz continuous.
\end{enumerate}
\end{theorem}
\begin{proof}
The equivalences $(1) \Leftrightarrow (2) \Leftrightarrow (3)$ are given by \ref{uniformContinuityGroupHomomorphism}. The implication $(4)\Rightarrow (3)$ is given by \ref{LipschitzcontinuousContinuous}.

Finally we prove $(2)\Rightarrow (4)$. From continuity at zero, there exists a $\delta>0$ such that $\norm{L(h)} = \norm{L(h)-L(0)} \leq 1$ for all $h\in \dom(L)$ with $\norm{h}\leq \delta$. Thus for all nonzero $v\in \dom(L)$
\[ \norm{L(v)} = \norm{\frac{\norm{v}}{\delta}L(\delta \frac{v}{\norm{v}})} = \frac{\norm{v}}{\delta}\norm{L(\delta \frac{v}{\norm{v}})}\leq \frac{\norm{v}}{\delta}. \]
\end{proof}
\begin{corollary}
A linear operator $L:V\to W$ between normed spaces is a homeomorphism \textup{if and only if} there exists $C_1,C_2> 0$ such that
\[ \forall x\in V:\qquad C_1\norm{x}\leq \norm{L(x)} \leq C_2\norm{x}. \]
\end{corollary}

\begin{definition}
An operator $L$ between normed vector spaces is called \udef{bounded} if it is (Lipschitz) continuous.

The set of bounded operators from $V$ to $W$ is denoted $\Bounded(V,W)$. If $V=W$, we write $\Bounded(V)$.
\end{definition}
In other words, bounded means there exists an $M>0$ such that $\forall v\in \dom(L)$
\[ \norm{L(v)} \leq M \norm{v}. \]

\begin{proposition} \label{boundedAntiLinearMaps}
An anti-linear map between complex vector spaces is continuous \textup{if and only if} it is bounded.
\end{proposition}
\begin{proof}
An anti-linear map $A:V\to W$ is an $\R$-linear map $A:V_\R\to W_\R$. Now $V_\R, W_\R$ have the same norms as $V,W$ and thus the same topology. So $A:V\to W$ is continuous if and only if $A:V_\R\to W_\R$ is continuous.
\end{proof}


\subsubsection{Equicontinuity}
\begin{proposition}
Let $\mathcal{F}$ be a set of linear operators in $(V\to W)$. Then $\mathcal{F}$ is equicontinuous at $x_0\in V$ \textup{if and only if} there exists $C>0$ such that
\[ \forall f\in\mathcal{F}:\qquad \norm{f(x_0)} \leq C\norm{x_0}. \]
\end{proposition}

\subsubsection{Comparison of norm topologies}
\begin{definition}
Let $V$ be a vector space and $\norm{\cdot}_1$, $\norm{\cdot}_2$ two norms on $V$. We say
\begin{itemize}
\item $\norm{\cdot}_1$ is \udef{bounded} by $\norm{\cdot}_2$ if there exists $C\in \R$ such that $\forall v\in V: \norm{v}_1 \leq C\norm{v}_2$;
\item $\norm{\cdot}_1$ and $\norm{\cdot}_2$ are \udef{equivalent} if each is bounded by the other.
\end{itemize}
\end{definition}

\begin{lemma}
Let $V$ be a vector space and $\norm{\cdot}_1$, $\norm{\cdot}_2$ two norms on $V$. These norms are equivalent \textup{if and only if} there exists a $C>0$ such that
\[ \frac{1}{C}\norm{\cdot}_1 \leq \norm{\cdot}_2 \leq C\norm{\cdot}_1. \]
\end{lemma}

\begin{proposition} \label{normComparison}
Let $V$ be a vector space and $\norm{\cdot}_1$, $\norm{\cdot}_2$ two norms on $V$. Then the following are equivalent:
\begin{enumerate}
\item $\norm{\cdot}_2$ is bounded by $\norm{\cdot}_1$;
\item $\id_V: \sSet{V,\norm{\cdot}_1} \to \sSet{V,\norm{\cdot}_2}$ is uniformly continuous;
\item the norm topology of $\norm{\cdot}_1$ is finer than the norm topology of $\norm{\cdot}_2$.
\end{enumerate}
\end{proposition}
\begin{proof}
$(1) \Leftrightarrow (2)$ By \ref{boundedLinearMaps} both are equivalent to
\[ \exists C>0: \forall v\in V: \qquad \norm{v}_2 = \norm{\id_V((v))}_2 \leq C\norm{v}_1. \]

$(2) \Leftrightarrow (3)$ Follows straight from \ref{identityContinuity}.
\end{proof}
\begin{corollary}
Equivalent norms induce the same topology.
\end{corollary}

\subsubsection{Subspaces of normed spaces}

\begin{lemma}
Every proper subspace $U$ of a normed vector space $V$ has empty interior.
\end{lemma}
\begin{proof}
Suppose $U$ has a non-empty interior. Then it contains some ball $B(u,\epsilon)$. Now every vector in $V$ can be translated and rescaled to fit inside the ball $B(u,\epsilon)$. Indeed let $v\in V$ and set $u' = u+ \frac{\epsilon}{2\norm{v}}v \in B(u,\epsilon)$. Then, since $U$ is a subspace $v = \frac{2\norm{v}}{\epsilon}(u'-u)\in U$. So $U=V$.
\end{proof}

\begin{lemma}[Riesz's lemma] \label{RieszsLemma}
Let $V$ be a normed vector space. Given a non-dense subspace $X$ and a number $\theta<1$, there exists a unit vector $v\in V$ such that
\[ \theta \leq d(X,v) = \inf_{x\in X}\norm{x-v}. \]
\end{lemma}
\begin{proof}
Take a vector $v_1$ not in the closure of $X$ and put $a = \inf_{x\in X}\norm{x-v_1}$. Then $a>0$ by lemma \ref{sequencesSupInf}. For $\epsilon > 0$, let $x_1\in X$ be such that $\norm{x_1+v_1}<a+\epsilon$. Then take
\[ v = \frac{v_1 - x_1}{\norm{v_1-x_1}} \qquad \text{so} \qquad \norm{v}=1. \]
And
\[ \inf_{x\in X}\norm{x-v} = \inf_{x\in X}\norm{x-\frac{v_1 - x_1}{\norm{v_1-x_1}}} = \inf_{x\in X}\norm{\frac{x-v_1 + x_1}{\norm{v_1-x_1}}} = \frac{\inf_{x\in X}\norm{x-v_1}}{\norm{v_1-x_1}} \geq \frac{a}{a+\epsilon}. \]
By choosing $\epsilon >0$ small, $a/(a+\epsilon)$ can be made arbitrarily close to $1$.
\end{proof}
For finite-dimensional spaces we can even take $\theta=1$.

\subsection{Linear independence and bases in normed spaces}
\url{https://math.stackexchange.com/questions/1518029/are-uncountable-schauder-like-bases-studied-used}

\subsection{Finite-dimensional normed (sub)spaces}

\begin{lemma} \label{coordinateContinuity}
Let $V$ be a normed vector space and $\{x_1, \ldots, x_n\}$ a linearly independent set of vectors. There exists a $c>0$ such that $\forall \alpha_1,\ldots, \alpha_n \in \mathbb{F}$:
\[ \norm{\alpha_1x_1 + \ldots + \alpha_nx_n} \geq c(|\alpha_1|+\ldots+|\alpha_n|) . \]
\end{lemma}
\begin{proof}
TODO ref locally convex spaces? Local compactness?
\end{proof}
TODO This is equivalent with continuity of coordinate functions.

\begin{proposition} \label{finiteDimComplete}
Every finite-dimensional subspace of a normed vector space is complete.
\end{proposition}
\begin{proof}
Take a basis $\{e_i\}_{i=1}^n$ and let $c$ be as in lemma \ref{coordinateContinuity}. Consider an arbitrary Cauchy sequence $(v_k)_{k\in\N}$. We can write
\[ v_k = \alpha_{k,1}e_1 + \ldots + \alpha_{k,n}e_n. \]
We claim that $(\alpha_{k,i})_{k\in\N}$ is Cauchy in $\mathbb{F}$ for all $1\leq i\leq n$. Indeed, take an $\epsilon>0$. By the Cauchy nature of $(v_k)_{k\in\N}$ we can find a $k_0$ such that $\forall k', k''>k_0:$
\[ c\epsilon > \norm{v_{k'} - v_{k''}} \geq \norm{\sum_{i=1}^n (\alpha_{k',i}-\alpha_{k'',i})e_i}\geq c\sum_{i=1}^n |\alpha_{k',i}-\alpha_{k'',i}| \geq c |\alpha_{k',i}-\alpha_{k'',i}|. \]
Dividing left and right by $c$ gives exactly the Cauchy condition for each $1\leq i\leq n$. By the completeness of $\R$ or $\C$, each of these sequences has a limit $\alpha_i$.
Then $v= \sum_{i=1}^n\alpha_ie_i$ is an element of the subspace. The sequence $(v_k)$ converges to $v$ because
\[ \norm{v_k-v} = \norm{\sum_{i=1}^n (\alpha_{k,i}-\alpha_i)e_i} \leq \sum_{i=1}^n |\alpha_{k,i}-\alpha_i|\norm{e_i} \]
and the right-hand side goes to zero as $k\to \infty$.
\end{proof}
\begin{corollary} \label{finiteDimClosed}
Every finite-dimensional subspace of a normed vector space is closed.
\end{corollary}
TODO ref for proof.

\begin{proposition}
On a finite-dimensional vector space all norms are equivalent.
\end{proposition}
\begin{proof}
Let $\{e_i\}_{i=1}^n$ be a basis and take an arbitrary vector $v = \sum_{i=1}^nv_ie_i$. Let $\norm{\cdot}_1$ and $\norm{\cdot}_2$ be two norms.
We calculate
\[ \norm{v}_1 \leq \sum_{i=1}^n|v_i|\norm{e_i}_1 \leq k\sum_{i=1}^n|v_i| \leq \frac{k}{c_2}\norm{v}_2 \]
where the first inequality is the triangle inequality, the second comes from $k=\max\norm{e_i}_1$ and the third is lemma \ref{coordinateContinuity}. A similar calculation gives the other necessary inequality.
\end{proof}

\begin{proposition}
In a finite-dimensional normed space $V$, any subset $M \subseteq V$ is compact if and only if $M$ is closed and bounded.
\end{proposition}
\begin{proof}
TODO + ref Heine Borel property
\end{proof}


TODO: move up?
\begin{proposition} \label{compactnessUnitBall}
The closed unit ball of a vector space is compact \textup{if and only if} the vector space is finite-dimensional.
\end{proposition}
\begin{proof}
One direction is given by the previous proposition. For the other direction, we show the contrapositive: let the vector space be infinite-dimensional.
We define a sequence of unit vectors $(e_i)_{i\in\N}$ recursively as follows:
\begin{itemize}
\item $e_1$ is just a unit vector;
\item for $e_{n+1}$ apply Riesz's lemma \ref{RieszsLemma} to the subspace $\Span\{e_i\}_{i=1}^n$ and $\theta = 1/2$. This subspace cannot be dense, because it is a closed (by corollary \ref{finiteDimClosed}) finite-dimensional subspace of an infinite-dimensional vector space.
\end{itemize}
This yields a sequence such that for all $m,n$
\[ \norm{e_m - e_n}\geq \frac{1}{2}. \]
This sequence is not Cauchy and thus not convergent.
\end{proof}





\section{Bounded operators}
Bounded operators are Lipschitz continuous operators.

An operator between normed spaces is bounded iff it is continuous, see \ref{boundedLinearMaps}.

\begin{lemma}
Let $V,W$ be normed spaces and $T:V\to W$ a linear operator. Then $T$ is bounded \textup{if and only if} $T^{\preimf}[\ball(\vec{0},1)]$ has non-empty interior.
\end{lemma}
\begin{proof}
Assume $T$ is bounded, then $\ball(\vec{0}, \norm{T}^{-1}) \subseteq T^{\preimf}[\ball(\vec{0},1)]$, indeed for all $v\in \ball(\vec{0}, \norm{T}^{-1})$ we have
\[ \norm{Tv} \leq \norm{T}\;\norm{v} < \norm{T}\;\norm{T}^{-1} = 1.  \]
As $\ball(\vec{0}, \norm{T}^{-1})$ is open, it is contained in the interior, which is thus non-empty.

Now assume $T^{\preimf}[\ball(\vec{0},1)]$ has non-empty interior, then we can pick some $x$ in the interior and $T^{-\preimf}[\ball(\vec{0},1)]$ is a neighbourhood of $x$. Then we have that
\[ T^{\preimf}[\ball(\vec{0},1)] - x = T^{\preimf}[\ball(\vec{0},1)- T(x)] \]
is a neighbourhood of $0$. Now $T$ is bounded on $T^{\preimf}[\ball(\vec{0},1)- T(x)]$, so it is continuous by \ref{boundedOnVicinityImpliesContinuous}.
\end{proof}

\begin{lemma} \label{kerClosed}
Let $T$ be a bounded linear operator. Then $\ker(T)$ is closed.
\end{lemma}
\begin{proof}
Suppose $T$ bounded and thus continuous. Then $\ker L = L^{-1}[\{0\}]$ and thus closed, by proposition \ref{continuity}.
\end{proof}
\begin{proof}
Let $v\in \overline{\ker(T)}$. Then find a sequence $(v_n)$ in $\ker(T)$ that converges to $v$. Then by continuity $(Tv_n)$ converges to $Tv$, but for all $n\in\N: Tx_n = 0$, so the limit is $Tv=0$. Thus $v\in\ker(T)$, making it closed.
\end{proof}

\begin{proposition}\label{continuousMapCriterion}
Let $L:V\to W$ be a linear map between normed spaces.
\begin{enumerate}
\item If $V$ is finite-dimensional, then $L$ is continuous.
\item If $W$ is finite-dimensional, then $L$ is continuous \textup{if and only if} $\ker L$ is closed.
\end{enumerate}
\end{proposition}
TODO: true for general TVS
\begin{proof}
\begin{enumerate}
\item This follows from a consideration of the graph norm $\norm{v}_L = \norm{v}+\norm{Lv}$ and the fact that on a finite-dimensional space any two norms are equivalent: for all $v$ we can choose an $M$ such that
\[ \norm{Lv}\leq \norm{v}_L \leq M\norm{v}. \]
\item Assume $W$ finite-dimensional. Consider the map $\bar{L}:V/\ker L\to W: v+\ker{L}\mapsto L(v)$, defined in proposition \ref{splittingMap}. Then $V/\ker L$ is isomorphic to a subspace of $W$ and thus is finite-dimensional. By the first point, $\bar{L}$ must be continuous. Let $\pi: V\to V/\ker L$ denote the quotient map, which is continuous (TODO is this where closure of $\ker L$ is used?). Then $L = \bar{L}\circ \pi$ is a composition of continuous maps and thus continuous.

Conversely, we have the lemma \ref{kerClosed}.
\end{enumerate}
\end{proof}

\begin{example}
Let $\seq{e_n}$ be a basis of unit vectors of an infinite dimensional real vector space. Then consider the map $e_n\mapsto n$ and extend by linearity. This is an unbounded linear operator with finite dimensional codomain.
\end{example}


\subsection{The algebra of bounded operators}
\begin{lemma} \label{existenceOperatorNorm}
Let $(V,\norm{\cdot}_V)$ and $(W,\norm{\cdot}_W)$ be normed spaces and $L\in\Lin(V, W)$. Then $L$ is bounded \textup{if and only if}
\[ \sup\setbuilder{\frac{\norm{Lx}_W}{\norm{x}_V}}{x\in V\setminus\{0\}} \] 
is finite.
\end{lemma}
\begin{definition}
Let $(V,\norm{\cdot}_V)$ and $(W,\norm{\cdot}_W)$ be normed spaces and $L\in\Lin(V, W)$ bounded. Then
\[ \norm{L} \defeq \sup\setbuilder{\frac{\norm{Lx}_W}{\norm{x}_V}}{x\in V\setminus\{0\}} \]
is called the \udef{operator norm} of $L$.
\end{definition}

\begin{proposition} \label{operatorNorm}
Let $L\in\Bounded(V,W)$ be a bounded operator and let $B(\vec{0},\epsilon)$ be an open ball centered at $\vec{0}$. Then
\begin{align*}
\norm{L} &= \frac{\sup L[B(\vec{0},\epsilon)]}{\epsilon} \\
&= \frac{\sup L[\overline{B}(\vec{0},\epsilon)]}{\epsilon} \\
&= \sup\setbuilder{\norm{Lx}}{\norm{x} = 1}.
\end{align*}
\end{proposition}
\begin{proof}
TODO
\end{proof}

\begin{proposition} \label{operatorNormIsNorm}
Let $S,T$ be compatible bounded operators. Then
\begin{enumerate}
\item $\norm{\lambda S} = |\lambda|\;\norm{S}$ for all $\lambda\in \F$;
\item $\norm{S+T} \leq \norm{S}+\norm{T}$;
\item $\norm{ST} \leq \norm{S}\norm{T}$.
\end{enumerate}
\end{proposition}
\begin{proof}
(1) We calculate
\[ \norm{\lambda S} = \sup_{\norm{x}=1}\norm{\lambda Sx} = \sup_{\norm{x}=1}|\lambda|\; \norm{Sx} = |\lambda| \sup_{\norm{x}=1}\norm{Sx} = |\lambda| \norm{S}. \]

(2) We calculate
\[ \norm{S+T} = \sup_{\norm{x}=1}\norm{Sx+Tx} \leq \sup_{\norm{x}=1}\big(\norm{Sx}+\norm{Tx}\big)\leq \sup_{\norm{x}=1}\big(\norm{S} + \norm{Tx}\big) = \norm{S} + \norm{T}. \]

(3) We calculate
\[ \norm{ST} = \sup_{\norm{x}=1}\norm{STx} \leq \sup_{\norm{x}=1}\big(\norm{S}\;\norm{Tx}\big) = \norm{S}\;\norm{T}. \]
\end{proof}
\begin{corollary} \label{BoundedSpace}
Let $(V,\norm{\cdot}_V)$ and $(W,\norm{\cdot}_W)$ be normed spaces. Then the set $\Bounded(V,W)$ of bounded linear maps is a normed subspace of $\Lin(V,W)$ when equipped with the operator norm.
\end{corollary}
\begin{proof}
By \ref{linearMapsVectorSpace}, $\Lin(V,W)$ is a vector space. Closure under addition and scalar multiplication follows from the proposition and \ref{operatorNorm}.

The proposition also immediately gives that the operator norm is a seminorm.

To show that it is in fact a norm, we just need to show that it is point-separating. Assume $S\in\Bounded(V,W)$ is such that $\norm{S} = 0$. Then $\sup_{\norm{x}=1}\norm{Sx} = 0$, which implies that $\norm{Sx} = 0$ for all unit vectors. Because the norm on $W$ is point-separating, this means that $Sx = 0$ for all unit vectors. Now for arbitrary $v\in V$, we have $Sv = \norm{v}\cdot S\left(\frac{v}{\norm{v}}\right) =\norm{v} \cdot 0 = 0$. Thus $S = 0$.
\end{proof}

\begin{proposition} \label{boundedOperatorsFormBanachSpace}
Let $(V,\norm{\cdot}_V)$ and $(W,\norm{\cdot}_W)$ be normed spaces. Then $\Bounded(V,W)$ is a Banach space \textup{if and only if} $W$ is a Banach space.
\end{proposition}
\begin{proof}
$\boxed{\Leftarrow}$ Assume $W$ is a Banach space and take an arbitrary Cauchy sequence $\seq{T_n}$ in $\Bounded(V,W)$. For all $v\in V$, we have
\[ \norm{T_mv - T_nv} \leq \norm{T_m-T_n}\;\norm{v} \to 0, \]
so $\seq{T_nv}$ is a Cauchy sequence in $W$. It has a limit that we denote $Tv$. It is clear that $T$ is linear (by continuity of addition and scalar multiplication).

Fix $\epsilon >0$. Then there exists $N\in\N$ such that $\norm{T_m-T_n}\leq \epsilon$ for all $m,n\geq N$. Take arbitrary $v\in V$ with $\norm{v} = 1$ and $n\geq N$. Then (by continuity of the norm)
\[ \norm{(T-T_n)(v)} = \lim_{m\to\infty}\norm{(T_m-T_n)(v)} \leq \lim_{m\to\infty}\norm{T_m - T_n} \leq \epsilon. \]
As $v$ was chosen arbitrarily, we have $\sup_{\norm{v} = 1}\norm{(T-T_n)(v)} \leq \epsilon$, so $\norm{T-T_n} \leq \epsilon$. Thus $\seq{T_n}$ converges to $T$ in norm.

This also immediately shows that $T$ is bounded:
\[ \sup_{\norm{v}=1}\norm{T(v)}\leq \sup_{\norm{v}=1}\norm{T(v)}\norm{T-T_n} + \sup_{\norm{v}=1}\norm{T(v)}\norm{T_n} = \norm{T-T_n} + \norm{T_n}. \]

$\boxed{\Rightarrow}$ TODO
\end{proof}
Also: TODO make the first part nicer.
\begin{corollary}
Let $V$ be a normed space. The continuous dual $X'$ is a Banach space.
\end{corollary}
\begin{corollary}
Topologically reflexive spaces are Banach spaces.
\end{corollary}

\begin{proposition}[Bounded linear extension] \label{BLT}
Let $T:\dom(T)\subseteq X\to Y$ be a bounded operator between normed spaces. Then $T$ has a unique extension
\[ \widetilde{T}:\overline{\dom(T)}\to Y \]
where $\widetilde{T}$ is a bounded operator with $\norm*{\widetilde{T}} = \norm{T}$.
\end{proposition}
\begin{proof}
Normed vector spaces have the unique extension property because they are Hausdorff, \ref{uniqueExtensionHausdorff}. We just need to show the norm stays the same:

Clearly $\norm*{\tilde{T}} \geq \norm{T}$. For the converse take any $x\in X$. As $\overline{\dom(T)} = X$, there exists a sequence $\seq{x_i}\subset \dom(T)$ that converges to $x$. Then
\[ \norm*{\tilde{T}(x)}_Y = \norm{T\left(\lim_{i\to\infty}x_i\right)}_Y = \lim_{i\to\infty}\norm{T(x_i)}_Y \leq \lim_{i\to\infty}\norm{T}\;\norm{x_i}_X = \norm{T}\;\norm{x}_X. \]
\end{proof}


\begin{proposition}
Let $T\in\Bounded(V,W)$. Then the adjoint $T^*$ is a bounded operator in $\Bounded(W,V)$ with $\norm{T^*} = \norm{T}$.
\end{proposition}
TODO: clean up proof.
\begin{proof}
The operator $T^t$ is linear since $\forall f_1,f_2\in \tdual{W}, \forall a\in\mathbb{F}, \forall x\in V:$
\[ (T^t(af_1 + f_2))(x) = (af_1 + f_2)(Tx) = af_1(Tx) + f_2(Tx) = a(T^tf_1)(x) + (T^tf_2)(x). \]
For the equality of norms, we prove two inequalities. First $\forall x\in V, f\in \tdual{W}$
\[ |f(Tx)|\leq \norm{f}\norm{Tx}\leq \norm{f}\norm{x}\norm{T} \implies \frac{|f(Tx)|}{\norm{x}} \leq \norm{f}\norm{T}. \]
taking the supremum over $x\in V$, we get $\norm{T^tf} = \norm{f\circ T}\leq \norm{f}\norm{T}$ and taking the supremum over $f\in \tdual{W}$ gives $\norm{T^t}\leq \norm{T}$. This shows that $T^t$ is bounded.

For the other inequality, we use corollary \ref{existenceBoundedFunctionalOfSameNorm} to the Hahn-Banach theorem: for every $x\in V$, there exists a bounded functional $\omega_x$ such that $\norm{\omega_x}=1$ and $\omega_x(x) = \norm{x}$. Then we can calculate:
\begin{align*}
\norm{Tx} = \omega_{Tx}(Tx) = (T^t\omega_{Tx})(x) \leq \norm{T^t\omega_{Tx}}\norm{x} \leq \norm{T^t}\norm{\omega_{Tx}}\norm{x} = \norm{T^t}\norm{x}
\end{align*}
So $\norm{T}\leq\norm{T^t}$. Combining gives $\norm{T^t}=\norm{T}$.
\end{proof}
\begin{corollary}
The map $T\mapsto T^*$ is an isometric isomorphism in $(\Bounded(X,Y)\to \Bounded(\dual{Y}, \dual{X}))$.
\end{corollary}

\subsection{The uniform boundedness principle}
TODO: \url{https://arxiv.org/pdf/1005.1585.pdf}

\begin{theorem}[Uniform boundedness principle] \label{uniformBoundednessPrinciple}
Let $\mathcal{F}\subset \Bounded(X,Y)$ be a family of bounded operators where $X$ is a Banach space and $Y$ a normed space, such that
\[ \sup\setbuilder{\norm{Tx}}{T\in\mathcal{F}} < \infty \qquad \text{for all $x\in X$}. \]
Then $\sup\setbuilder{\norm{T}}{T\in\mathcal{F}} < \infty$.
\end{theorem}
\begin{proof}
The proof is an application of the Baire category theorem. Define the closed subsets $K_n$ as
\[ K_n = \setbuilder{x\in X}{\forall T\in\mathcal{F}: \norm{Tx}\leq n}. \]
These are closed because the functional $f_T: X\to \R: x\mapsto \norm{Tx}$ is bounded and
\[ K_n = \bigcap_{T\in\mathcal{F}}f_T^{-1}[\,[0,n]\,]. \]
By assumption, $X=\bigcup_{n\in\N} K_n$. As $X$ is a Banach space, and thus a complete metric space, we can apply the Baire category theorem, \ref{BaireCategory}, to conclude that there is a $K_n$ with non-empty interior (by contraposition of the Baire condition). Take $x_0\in K_n^\circ$, then $-x_0+K_n^\circ \subset K_{n2}$. So $\vec{0}\in (K_{2n})^\circ$ and we can find a $\rho$ such that $B(\vec{0},\rho)\subset K_{2n}$. By proposition \ref{existenceOperatorNorm} we have $\norm{T}\leq 2n/\rho$ for all $T\in\mathcal{F}$.
\end{proof}
\begin{corollary}[Banach-Steinhaus] \label{BanachSteinhaus}
Let $X$ be a Banach space and $Y$ a normed space. Let $T_n: X\to Y$ be a sequence of bounded operators that converges pointwise to $T$. Then
\begin{enumerate}
\item $T$ is bounded;
\item $\seq{T_n}$ converges in the continuous convergence.
\end{enumerate}
\end{corollary}
\begin{proof}
For all $x\in X$ we have $\norm{T_nx} \to \norm{Tx}$, so $\seq{\norm{T_nx}}$ is a bounded sequence and $\sup_{n}\norm{T_nx} <\infty$. By the uniform boundedness principle, $\sup_{n}\norm{T_n}$ is bounded by some constant $M$.

Now for all $x\in X$ we have $\norm{T_nx} \leq M$ for all $n\in\N$ and thus $\norm{Tx}\leq M$. This means that $T$ is bounded and $\norm{T} \leq M$.
\end{proof}
This does not imply that $\seq{T_n}$ converges to $T$ in norm!

\subsection{Open mapping and closed graph theorems}

\begin{proposition} \label{openUnitBall}
Let $X,Y$ be Banach spaces and $T:X\to Y$ a surjective bounded operator.  Then the image of the open unit ball $B(\vec{0},1)\subset X$ contains an open ball about $\vec{0}\in Y$.
\end{proposition}
\begin{proof}
We first prove $0\in \overline{T[B(\vec{0},r)]}^\circ$ for every $r>0$: (TODO: make computations lemma.)
\begin{itemize}
\item Using $X = \bigcup_{n=1}^\infty B(\vec{0},n)$, we see by surjectivity
\[ Y = T[X] = T\left[\bigcup_{n=1}^\infty B(\vec{0},n)\right] = \bigcup_{n=1}^\infty T[B(\vec{0},n)]. \]
Because $Y$ has the Baire property (theorem \ref{BaireCategory}) and $Y$ is both open and non-empty, it may not be meagre, by lemma \ref{BaireEquivalents}. So for some $n\in\N$, $T[B(\vec{0},n)]$ is non-rare, meaning that $\overline{T[B(\vec{0},n)]}$ has non-empty interior.
\item Because
\[ \overline{T[B(\vec{0},n)]} = \overline{2nT[B(\vec{0},1/2)]} = 2n\overline{T[B(\vec{0},1/2)]}, \]
$\overline{T[B(\vec{0},1/2)]}$ must have non-empty interior. Let $B(y_0,\epsilon)\subset \overline{T[B(\vec{0},1/2)]}$.
\item Note $B(0,\epsilon) = y_0 - B(y_0,\epsilon) \subset \overline{T[B(\vec{0},1)]}$ and thus $B(0,r\epsilon) \subset \overline{T[B(\vec{0},r)]}$.
\end{itemize}
We then prove $\overline{T[B(\vec{0},1/2)]} \subset T[B(\vec{0}, 1)]$, proving the proposition.
\begin{itemize}
\item Choose some $y_0\in \overline{T[B(\vec{0},1/2)]}$. Then every neighbourhood $B(y_0,\epsilon/4)$ intersects $T[B(\vec{0},1/2)]$.
\item Then
\[ B(y_0,\epsilon/4) = y_0 - B(\vec{0},\epsilon/4) \subset y_0 - \overline{T[B(\vec{0},1/4)]}, \]
so $y_0 - \overline{T[B(\vec{0},1/4)]}$ intersects $T[B(\vec{0},1/2)]$. Take a $y_1 \in \overline{T[B(\vec{0},1/4)]}$ such that $y_0-y_1$ is in this intersection. Then we have an $x_0\in B(\vec{0},1/2)$ such that $T(x_0) = y_0-y_1$.
\item We can continue recursively choosing $y_{n+1}\in \overline{T[B(\vec{0}, 2^{-(n+1)})]}$ and $x_n \in B(\vec{0}, 2^{-n})$ such that $y_n-y_{n+1} = T(x_n)$.
\item Consider the sequence $\sum_{k=0}^nx_k$. It is a Cauchy sequence in $X$. Call its limit $x$. Then $x\in B(\vec{0},1)$.
\item Because $\norm{y_n}\leq 2^{-n}\norm{T}$, $(y_n)$ converges to zero. Then
\[ \left( T\left(\sum^n_{k=1}x_k\right) \right)_{n\in\N} = \left( y_0-y_{n+1} \right)_{n\in\N} \]
converges to $y_0$. Thus $T(x) = y_0 \in T[B(\vec{0},1)]$.
\end{itemize}
\end{proof}

\begin{proposition} \label{zeroInInteriorOfImageImpliesOpen}
Let $X,Y$ be normed spaces and $T: X\to Y$ a linear map. If $\vec{0}$ lies in the interior of $T[B(\vec{0},r)]$ for some $r>0$, then $T$ is open.
\end{proposition}
\begin{proof}
TODO: make computations lemma.
Given the assumption, $0$ lies in the interior of $T[B(\vec{0},\epsilon)]$ for all $\epsilon>0$.
Because $T[B(x,\epsilon)] = T(x) + T[B(\vec{0},\epsilon)]$, $T(x)$ lies in the interior of $T[B(x,\epsilon)]$, for all $x\in X$.
Thus for all neighbourhoods $U(x)\subset X$, $T(x)\subset T[U]^\circ$ and so $T[U] \subset T[U]^\circ$, so $T[U]$ is open.
\end{proof}

\begin{theorem}[Open mapping]
Let $X,Y$ be Banach spaces and $T:X\to Y$ a surjective bounded operator. Then $T$ is an open map.
\end{theorem}
\begin{proof}
This is the consequence of propositions \ref{openUnitBall} and \ref{zeroInInteriorOfImageImpliesOpen}.
\end{proof}
\begin{corollary}[Bounded inverse theorem] \label{boundedInverse}
Let $X,Y$ be Banach spaces. If $T:X\to Y$ is is continuous, linear and bijective, then $T$ is a homeomorphism.
\end{corollary}


\begin{proposition}
Let $T: \dom(T)\subset X\to Y$ be a bounded linear operator. Then
\begin{enumerate}
\item if $\dom(T)$ is a closed subset of $X$, then $T$ has closed graph;
\item if $T$ has closed graph and $Y$ is complete, then $\dom(T)$ is a closed subset of $X$.
\end{enumerate}
\end{proposition}
\begin{proof}
We use proposition \ref{closedGraphEquivalence} twice: First assume $(x_n)$ and $(Tx_n)$ converge to $x$ and $y$, respectively. Then $x\in\dom(T)$ by closure and $y = Tx$ by continuity.

Now assume $T$ has closed graph and $Y$ is complete. Take $x\in\overline{\dom(T)}$ and $(x_n)\subset \dom(T)$ converging to $x$. Since $T$ is bounded:
\[ \norm{Tx_n - Tx_m} = \norm{T(x_n-x_m)} \leq \norm{T}\norm{x_n-x_m}, \]
so $(Tx_n)$ is Cauchy by \ref{CauchyCriterion} and thus by completeness has a limit, say $y$. Then $Tx=y$ by continuity. Since $T$ has closed graph, $x\in\dom(T)$. So $\overline{\dom(T)}\subseteq \dom(T)$ and $\dom(T)$ is closed. 
\end{proof}

For closed graph theorem, see TVS.



\subsection{Compact operators}
\begin{definition}
A linear map $L:V\to W$ between normed spaces is called \udef{compact} if $L[\overline{B}(\vec{0}, 1)]$ is relatively compact.

i.e.\ the image of the closed unit ball has compact closure.

The space of compact maps from $V$ to $W$ is denoted $\mathcal{K}(V,W)$.
\end{definition}

These operators were introduced to study equations of the form
\[ (T-\lambda I)x(t) = p(t). \]

\begin{proposition}
Let $L\in\Lin(V,W)$. The following are equivalent:
\begin{enumerate}
\item $L$ is compact;
\item the image of any bounded subset of $V$ is relatively compact in $W$;
\item there exists a neighbourhood $U$ of $0$ in $V$ such that the image of $U$ is a subset of a compact set in $W$;
\item for any bounded sequence $(x_n)_{n\in\N} \subseteq V$, then sequence $(Lx_n)_{n\in\N}$ contains a converging subsequence.
\end{enumerate}
\end{proposition}
\begin{proof}
TODO
\end{proof}
\begin{corollary}
All maps of finite rank are compact.
\end{corollary}
\begin{proof}
Closed balls in $\C^n$ are compact.
\end{proof}

\begin{proposition}
Let $V$ be a normed space. Then $\mathcal{K}(V)$ is a closed two-sided ideal in $\Bounded(V)$.
\end{proposition}

\begin{lemma}
The identity map on $X$ is compact \textup{if and only if} $X$ is finite-dimensional.
\end{lemma}
\begin{proof}
The unit ball is compact iff $X$ is finite-dimensional, by \ref{compactnessUnitBall}.
\end{proof}
\begin{corollary}
Let $T\in\Compact(X,Y)$. If $T$ is injective and $T^{-1}$ bounded, then $X$ is finite-dimensional.
\end{corollary}
\begin{proof}
In this case $\id_X = T^{-1}T$ is compact by TODO ref.
\end{proof}

\subsubsection{Compact operators on Banach spaces}
\begin{proposition}
Let $L\in\Hom(V,W)$ with $V,W$ Banach spaces. Then $L$ is compact \textup{if and only if} the image of any bounded subset of $V$ under $L$ is totally bounded in $W$.
\end{proposition}
TODO proof

\begin{lemma} \label{identityCompactFiniteDimensional}
Let $X$ be a Banach space. Then $\id_X$ is compact \textup{if and only if} $X$ is finite dimensional.
\end{lemma}

\begin{theorem}[Schauder's theorem] \label{SchaudersTheorem}
Let $X,Y$ be Banach spaces and $T\in\Bounded(X,Y)$. Then the following are equivalent:
\begin{enumerate}
\item $T: X\to Y$ is compact;
\item $T^*: Y^* \to X^*$ is compact.
\end{enumerate}
\end{theorem}
TODO: more general setting: $X,Y$ normed for $(1) \Rightarrow (2)$ and $X$ normed, $Y$ Banach for $(2)\implies (1)$?
\begin{proof}
TODO \ref{https://arxiv.org/pdf/1010.1298.pdf} and \url{https://math.stackexchange.com/questions/41432/easy-proof-adjointcompact-compact}
\end{proof}

\subsubsection{Calkin algebra}
\begin{proposition}
Let $X$ be a Banach space. Then $\Compact(X)$ is a closed two-sided ideal in $\Bounded(X)$.
\end{proposition}
\begin{proof}
TODO + $*$-ideal for Hilbert spaces.
\end{proof}
\begin{corollary}
An invertible operator $T$ on $X$ is compact \textup{if and only if} $X$ is finite-dimensional.
\end{corollary}
\begin{proof}
If $T$ is compact, then so is $TT^{-1} = \id_X$, meaning that $X$ is finite-dimensional by \ref{identityCompactFiniteDimensional}. Conversely, all operators on a finite-dimensional Banach space are compact.
\end{proof}

\begin{definition}
Let $X$ be a Banach space. The \udef{Calkin algebra} is the quotient $\Bounded(X)/\Compact(X)$.
\end{definition}
TODO: quotient algebra ($[A][B] = [AB]$)

\begin{proposition}
Let $[T]\in\Bounded(X)/\Compact(X)$. Then the following are equivalent:
\begin{enumerate}
\item $[T]$ is invertible in the Calkin algebra;
\item $\exists S\in\Bounded(X):$ both $\vec{1}-TS$ and $\vec{1}-ST$ are compact;
\item $T$ has closed range and finite-dimensional kernel and cokernel. 
\end{enumerate}
\end{proposition}
\begin{proof}
Point 1. and 2. are easily equivalent: $[S]$ is an inverse of $[T]$ if and only if $[\vec{1}] = [S][T] = [ST]$ and $[\vec{1}] = [T][S] = [TS]$. Then
\[ [\vec{1}] = [ST] \iff [ST - \vec{1}] = [0] \qquad [\vec{1}] = [TS] \iff [TS - \vec{1}] = [0] \]
and $[F]=[0]$ if and only if $F$ is compact.

TODO
\end{proof}


\section{Completions and constructions}

\begin{lemma} \label{embeddingInCompletionLinear}
Let $X$ be a normed vector space with completion $\hat{X}$. Then
\begin{enumerate}
\item there exist unique operations of addition and scalar multiplication on $\hat{X}$ that make $\hat{X}$ a Banach space;
\item the embedding $\hat{}: X \hookrightarrow \hat{X}$ is linear.
\end{enumerate}
\end{lemma}
\begin{proof}

\end{proof}


\begin{proposition}
Let $X$ be a normed vector space with completion $\hat{X}$ and $\sSet{Y, \xi}$ a complete vector space. Let $T: X\to Y$ be a bounded linear operator. Then $T$ has a unique continuous extension $\hat{T}: \hat{X} \to Y$ and
\begin{enumerate}
\item $\hat{T}$ is linear;
\item $\norm{\hat{T}} = \norm{T}$.
\end{enumerate}
\end{proposition}
\begin{proof}
We have that $T$ is uniformly continuous by \ref{uniformContinuityGroupHomomorphism}. Thus the continuous extension $\hat{T}$ exists and is unique by \ref{uniformlyContinuousExtensionToCompletion}.

(1) Take $a,b\in \hat{X}$ and $\lambda \in \F$. Then, by \ref{sequentialLemma} and \ref{sequentialInherenceAdherence}, we can find sequences $\seq{a_n}, \seq{b_n}$ such that $\seq{\hat{a}_n}, \seq{\hat{b}_n}$ converge to $a$ and $b$ in the completion.

For all $x,y\in X$, we have $\widehat{x+\lambda y} = \hat{x} + \lambda \hat{y}$ by \ref{embeddingInCompletionLinear}, so
\[ \hat{T}\big(\hat{x} + \lambda \hat{y}\big) = \hat{T}\big(\widehat{x+\lambda y}\big) = T(x+\lambda y) = T(x) + \lambda T(y) = \hat{T}(\hat{x}) + \lambda \hat{T}(\hat{y}). \]

Now we can compute
\begin{align*}
\hat{T}(a+ \lambda b) &= \lim_{n\to \infty}\hat{T}\big(\hat{a_n} + \lambda \hat{b_n}\big) \\
&= \lim_{n\to \infty}\hat{T}(\hat{a_n}) + \lambda \hat{T}(\hat{b_n}) \\
&= \lim_{n\to \infty}\hat{T}(\hat{a_n}) + \lambda \lim_{n\to \infty}\hat{T}(\hat{b_n}) \\
&= \hat{T}(a) + \lambda \hat{T}(\hat{b}).
\end{align*}
This shows linearity.
\end{proof}


\begin{proposition}
The completions of a space with respect to two different norms are isomorphic \textup{if and only if} the norms are equivalent.
\end{proposition}

TODO move down
\subsection{Tensor products}
TODO Ryan
\url{https://math.stackexchange.com/questions/2712906/does-mathcalb-mathcalh-mathcalh-otimes-mathcalh-in-infinite-dime}
\url{https://math.stackexchange.com/questions/35191/operator-norm-and-tensor-norms?noredirect=1&lq=1}

\subsection{Direct sums}
\subsubsection{Algebraic direct sum}

\subsubsection{Topological direct sum}
For arbitrary direct sums we can generalise: now that we have a concept of limits, we can relax the requirement that all but finitely many terms be zero. Instead we require that the sequence of norms is bounded in some way. This gives a whole family of related concepts of direct sum, named for which sequence space the sequence of norms belongs to.
\begin{definition}
Let $\{V_i\}_{i\in I}$ be an arbitrary family of Banach spaces over a field $\F$ and let $\ell(I,\F)$ be a space of sequences in $\F$ indexed by $I$. Then the \udef{$\ell$-direct sum} is the vector space with as field
\[ \bigoplus_{i\in I}^\ell V_i = \setbuilder{(v_i)_{i\in I}}{\forall i\in I: v_i\in V_i \quad\text{and}\quad (\norm{v_i}_{V_i})_{i\in I}\in \ell(I,\F) }. \]
In particular we have, for all $1\leq p<\infty$, the \udef{$\ell^p$-direct sum}
\[ \bigoplus_{i\in I}^p V_i \defeq \setbuilder{(v_i)_{i\in I}}{\forall i\in I: v_i\in V_i \quad\text{and}\quad \sqrt[p]{\sum_{i\in I}\norm{v_i}_{V_i}^p}<\infty} \]
and the \udef{$\ell^\infty$-direct sum}
\[ \bigoplus_{i\in I}^\infty V_i \defeq \setbuilder{(v_i)_{i\in I}}{\forall i\in I: v_i\in V_i \quad\text{and}\quad \sup_{i\in I}\norm{v_i}_{V_i}<\infty}. \]
\end{definition}

\begin{proposition}
For any sequence space that is a Banach space the direct sum is a Banach space. TODO: in particular algebraic direct sum as $c_{00}$? (one possible norm)? and finite direct sums?
\end{proposition}

\subsubsection{Direct sum of identical spaces}
\begin{proposition}
Let $V$ be a Banach space over $\F$, $I$ an arbitrary index set and $\ell(I,\F)$ a banach sequence space.
\[ \bigoplus_{i\in I}^\ell V \cong \ell\otimes V \]
\end{proposition}


\subsection{Quotients of normed spaces}
\begin{proposition}
Let $V$ be a normed space and $U\subseteq V$ a subspace. Then
\[ \norm{x+U}_{V/U} \defeq \inf\setbuilder{\norm{x+u}}{u\in U} \]
is a seminorm on $V/U$. It is a norm \textup{if and only if} $U$ is closed in $V$.
\end{proposition}
\begin{proof}
For absolute homogeneity, take $\lambda\in\F\setminus\{0\}$. Then $\lambda x+U = \lambda(x+U)$, so
\[ \norm{\lambda x}_{V/U} = \inf\setbuilder{\norm{\lambda x+u}}{u\in U} = \inf\setbuilder{|\lambda|\norm{(x+u)}}{u\in U} = |\lambda| \norm{x}_{V/U}. \]
For subadditivity, we have
\begin{align*}
\norm{x+y}_{V/U} &= \inf\setbuilder{\norm{x+y+u}}{u\in U} \\
&= \inf\setbuilder{\norm{x+y+u+v}}{u\in U, v\in U} \\
&\leq \inf\setbuilder{\norm{x+u}+\norm{y+v}}{u,v\in U} \\
&= \norm{x}_{V/U} + \norm{y}_{V/U}.
\end{align*}

Now $\norm{x}_{V/U} = 0$ iff there exists a sequence $\seq{u_n}$ in $U$ such that $u_n\to x$ in $V$. Also $[x]_U = 0$ is equivalent to $x\in U$. Thus point-separation (i.e. $\norm{x}_{V/U} = 0$ implies $[x]_U = 0$) is equivalent to the statement ``if there exists a sequence $\seq{u_n}$ in $U$ such that $u_n\to x$ in $V$, then $x\in U$'', which is equivalent to the statement that $U$ is closed.
\end{proof}

\begin{proposition}
Let $V$ be a normed space and $U\subseteq V$ a subspace. Then
\begin{enumerate}
\item the quotient map $[\cdot]_U$ is bounded and $\norm{[\cdot]_U}\leq 1$;
\item the topology generated by $\norm{\cdot}_{V/U}$ is the quotient topology on $V/U$, i.e.\ the final topology w.r.t.\ the quotient map $[\cdot]_U$;
\item $[\cdot]_U$ is an open map.
\end{enumerate}
\end{proposition}
\begin{proof}
(1) We have
\[ \norm{[x]_U}_{V/U} = \inf\setbuilder{\norm{x+u}}{u\in U} \leq \inf\setbuilder{\norm{x+u}}{u\in \{0\}} = \norm{x+0} = \norm{x}. \]

(2), (3) TODO Conway p.71
\end{proof}

\begin{proposition} \label{quotientBanachSpace}
Let $V$ be a Banach space and $U\subseteq V$ a closed subspace. Then $V/U$ is a Banach space.
\end{proposition}
\begin{proof}
TODO Conway p.71
\end{proof}

\section{Unbounded operators}
Should be: not-necessarily-bounded operators.
\subsection{Operators bounded below}
TODO: also unbounded operators!
\begin{definition}
Let $T$ be a linear operator. We say $T$ is \udef{bounded below} if
\[ \exists b>0:\forall v\in \dom(T): \quad \norm{Tv}\geq b\norm{v} \]
\end{definition}

\begin{proposition} \label{boundedBelow}
Let $T\in \Lin(V, W)$ be an operator. Then $T$ has a bounded inverse $T^{-1}: \im(T)\to V$ \textup{if and only if} $T$ is bounded below by some constant $b$.

In this case
\[ \displaystyle\norm{T^{-1}} = \left(\inf_{x\neq 0}\frac{\norm{Tx}}{\norm{x}}\right)^{-1} \leq \frac{1}{b}. \]
\end{proposition}
\begin{proof}
First assume $T$ bounded below.
To show $T$ is injective, take $x_1,x_2\in \dom T$ such that $Tx_1 = Tx_2$. Then
\[ 0 = \norm{Tx_1 - Tx_2} = \norm{T(x_1 - x_2)} \geq b\norm{x_1 - x_2} \geq 0. \]
So $\norm{x_1 - x_2} = 0$ and thus $x_1=x_2$.
The existence of $T^{-1}$ is then clear. For boundedness notice that $T^{-1}y \in \dom(T)$, so because $T$ is bounded below,
\[ b\norm{T^{-1}y} \leq \norm{TT^{-1}y} = \norm{y} \quad\implies\quad \norm{T^{-1}y} \leq \frac{1}{b}\norm{y}. \]

This also shows that $\norm{T^{-1}} \leq 1/b$ for all lower bounds $b$. In other words $1/\norm{T^{-1}} \geq \inf_{x\neq 0}\norm{Tx}/\norm{x}$.

Now assume $T^{-1}$ bounded. Then for all $x\in\dom(T)$: $\norm{x} = \norm{T^{-1}Tx} \leq \norm{T^{-1}}\norm{Tx}$, so $T$ is bounded below by $1/\norm{T^{-1}}$.

This also shows that $1/\norm{T^{-1}}$ is a lower bound, so $1/\norm{T^{-1}} \leq \inf_{x\neq 0}\norm{Tx}/\norm{x}$.
\end{proof}



\subsection{Closed operators and graph norm}
\begin{definition}
Let $T:\dom(T)\subseteq X\to Y$ be an operator. Then $T$ is a \udef{closed operator} if $\graph(T)$ is closed in $X\oplus Y$.
\end{definition}
This is not the same as a closed map in the topological sense!

\subsubsection{The graph norm}
Let $L:V\to W$ be a linear map between normed spaces. The graph of $L$
\[ \setbuilder{(v,w)\in V\oplus W}{w = Lv} \]
has a natural norm inherited from the direct sum:
\[ \norm{(v,Lv)} = \norm{v}_V + \norm{Lv}_W. \]
This norm can also be seen as a norm on $V$: the \udef{graph norm} induced by $L$ is defined as
\[ \norm{v}_L := \norm{v}_V + \norm{Lv}_W. \]

\begin{proposition}
Let $L: \sSet{V, \norm{\cdot}_V}\to \sSet{W, \norm{\cdot}_W}$ be a linear map between normed spaces. Then $L: \sSet{V, \norm{\cdot}_L}\to \sSet{W, \norm{\cdot}_W}$ is bounded with norm $K$.
Also
\begin{enumerate}
\item $K \leq 1$;
\item $K < 1$ \textup{if and only if} $L: \sSet{V, \norm{\cdot}_V}\to \sSet{W, \norm{\cdot}_W}$ is bounded.
\end{enumerate}
\end{proposition}
\begin{proof}
Take any $v\in V$. Then
\[ \norm{L(v)}_W \leq \norm{L(v)}_W + \norm{v}_V = \norm{v}_L. \]
This shows the $L$ is bounded and the norm is less than or equal to $1$.

Now we can write
\[ K = \sup_{v\in V\setminus\{0\}}\frac{\norm{L(v)}_W}{\norm{v}_L} = \sup_{v\in V\setminus\{0\}}\frac{\norm{L(v)}_W}{\norm{v}_V + \norm{L(v)}_W} \defeq \sup_{v\in V\setminus\{0\}}K_v, \]
where we have set $K_v \defeq \frac{\norm{L(v)}_W}{\norm{v}_V + \norm{L(v)}_W}$.

First assume $L: \sSet{V, \norm{\cdot}_V}\to \sSet{W, \norm{\cdot}_W}$ is bounded. Then, from $\norm{L_v}_W = K_v \big(\norm{L(v)}_W + \norm{v}_V\big)$, we calculate
\[ K_v\norm{v}_V = \norm{L(v)}_W(1-K_v) \leq \norm{L}\;\norm{v}_V(1-K_v), \]
which implies $K_v \leq \norm{L}(1-K_v)$. This can be written as $K_v \leq \frac{\norm{L}}{1+ \norm{L}}$.
Thus $K = \sup_v K_v \leq \frac{\norm{L}}{1+ \norm{L}} < 1$.

Now assume $L: \sSet{V, \norm{\cdot}_V}\to \sSet{W, \norm{\cdot}_W}$ is unbounded. We write
\[ K_v = \frac{\norm{L(v)}_W}{\norm{v}_V + \norm{L(v)}_W} = \frac{\norm{L(v)}_W + \norm{v}_V - \norm{v}_V}{\norm{v}_V + \norm{L(v)}_W} = 1 - \frac{\norm{v}_V}{\norm{v}_V + \norm{L(v)}_W}. \]
We can find a sequence $\seq{v_n}$ of unit vectors such that $\norm{L(v_n)}_W \to \infty$. Then $K_{v_n} = 1 - \frac{1}{1+\norm{L(v_n)}_W} \to 1$. Thus
\[ K = \sup_{v\in V}K_v \geq \sup_{v\in \seq{v_n}}K_v \geq \limsup_{n}K_{v_n} \geq \lim_{n}K_{v_n} = 1, \]
so $K = 1$.
\end{proof}


\begin{lemma} \label{graphNormConvergenceLemma}
Let $T: X\not\to Y$ be an operator between normed spaces and $\seq{x_n}$ a sequence in $\dom(T)$. Then the following are equivalent:
\begin{enumerate}
\item $x_n \overset{\norm{\cdot}_T}{\longrightarrow} x$;
\item $(x_n, Tx_n) \overset{\norm{\cdot}_{X\oplus Y}}{\longrightarrow} (x, Tx)$;
\item $x_n\overset{\norm{\cdot}_X}{\longrightarrow} x$ and $Tx_n\overset{\norm{\cdot}_Y}{\longrightarrow} Tx$.
\end{enumerate}
\end{lemma}
\begin{proof}
We have the equivalences
\begin{align*}
x_n \overset{\norm{\cdot}_T}{\longrightarrow} x &\iff \norm{x_n - x}_T \longrightarrow 0 \\
&\iff \norm{x_n - x}_X + \norm{Tx_n - Tx}_Y \longrightarrow 0 \\
&\iff \norm{(x_n - x, Tx_n - Tx)}_{X\oplus Y} \longrightarrow 0 \\
&\iff \norm{(x_n, Tx_n) - (x, Tx)}_{X\oplus Y} \longrightarrow 0 \\
&\iff (x_n, Tx_n) \overset{\norm{\cdot}_{X\oplus Y}}{\longrightarrow} (x, Tx).
\end{align*}
Now if $x_n\overset{\norm{\cdot}_X}{\longrightarrow} x$ and $Tx_n\overset{\norm{\cdot}_Y}{\longrightarrow} Tx$, then $\norm{x_n - x}_X + \norm{Tx_n - Tx}_Y \longrightarrow 0$. 

Conversely, from
\[ 0 \leq \norm{x_n - x}_X\leq \norm{x_n - x}_X + \norm{Tx_n - Tx}_Y, \]
we get $x_n\overset{\norm{\cdot}_X}{\longrightarrow} x$ by the squeeze theorem (TODO ref). We similarly get $Tx_n\overset{\norm{\cdot}_Y}{\longrightarrow} Tx$.
\end{proof}
\begin{corollary}
The graph norm is strong than then original norm. Both norms are equivalent on $\dom(T)$ \textup{if and only if} $T$ is bounded.
\end{corollary}
\begin{corollary}
Let $T: X\not\to Y$ be an operator between normed spaces. Then the topology induced by the graph norm is equal to the initial topology w.r.t. $\{\id_X: X\to \sSet{X,\norm{\cdot}_X}, T\}$.
\end{corollary}

\subsubsection{Closed operators}

The most important property of closed operators is given by the following proposition. It is sometimes taken as the definition.
\begin{proposition} \label{closedGraphEquivalence}
Let $X,Y$ be normed spaces and $T: \dom(T)\subset X \to Y$ be a linear operator. Then
the following are equivalent:
\begin{enumerate}
\item $T$ is a closed operator;
\item if $(x_n)_{n\in\N}\subset \dom(T)$ converges to $x\in X$ and $(Tx_n)_{n\in\N}$ converges to $y$, then $x\in\dom(T)$ and $Tx = y$;
\item $\dom(T)$ is complete w.r.t. the graph norm.
\end{enumerate}
\end{proposition}
TODO:  (? If domain is closed?) I.e. does this work outside the realm of Banach operators??
\begin{corollary}
All bounded operators have closed graph. (? If domain is closed?)
\end{corollary}
The converse is not true in general.

\url{https://en.wikipedia.org/wiki/Unbounded_operator#Closed_linear_operators}
\url{https://en.wikipedia.org/wiki/Closed_graph_theorem_(functional_analysis)}

\begin{proposition} \label{algebraClosedOperators}
Let $T$ be a closed and $S$ a bounded operator, then
\begin{enumerate}
\item $S+T$ is closed;
\item $TS$ is closed;
\item if $T$ is injective, then $T^{-1}: \im(T) \to \dom(T)$ is closed.
\end{enumerate}
\end{proposition}
\begin{proof}
(1) TODO

(2) TODO

(3) We use \ref{closedGraphEquivalence}. Take $\seq{y_n}\subset \dom(T^{-1})$ such that $y_n\to y$ and $T^{-1}y_n\to x$. Set $x_n = T^{-1}y_n$, so then $Tx_n = TT^{-1}y_n = y_n\to y$. Because $T$ is closed it follows that $Tx = y$, so $T^{-1}y = x$, meaning $T^{-1}$ is closed.
\end{proof}
TODO example $ST$ need not be closed.

\begin{lemma} \label{closedOperatorKernelClosed}
Let $T$ be a closed operator, then $\ker(T)$ is closed.
\end{lemma}
\begin{proof}
Let $\seq{x_n}\subset\ker(T)$ be a convergent sequence. Then $\seq{Tx_n}$ is identically zero and thus converges to $0$. By closedness of $T$, $Tx = 0$ and thus $x\in\ker(T)$. 
\end{proof}
\begin{proof}[Alternate proof.]
Let $T: X\to Y$. Then $\ker(T)\times\{0\} = \graph(T)\cap X\times\{0\}$. As $\graph(T)$ is closed and $X\times\{0\}$ is closed by \ref{productOpenClosed}, we have that $\ker(T)$ is closed by \ref{productOpenClosed}.
\end{proof}
We have already proven this for bounded operators, see \ref{kerClosed}.

\begin{proposition} \label{boundedBelowClosedRange}
Let $T\in \Lin(X, Y)$ be a closed operator between Banach spaces that is bounded below. Then $\im(T)$ is closed.
\end{proposition}
\begin{proof}
Let $T$ be bounded below by $b$ and let $\seq{Tx_n}$ be a Cauchy sequence in $\im(T)$. Then $\norm{x_m - x_n} \leq \frac{1}{b}\norm{T(x_m - x_n)}$, so $\seq{x_n}$ is also Cauchy by \ref{CauchyCriterion}.

So we can find $x\in X,y\in Y$ such that $x_n\to x$ and $Tx_n\to y$. By closedness of $T$, we have $Tx = y$ and thus $y\in\im(T)$.
\end{proof}

\begin{proposition}
Let $X,Y$ be Banach spaces and $S,T\in \Lin(X,Y)$ with $\dom(S) = \dom(T)$. If $S$ is a closed operator and there exist $\alpha,\beta,\gamma\in \R^+$ such that $0 < \gamma \leq 1$ and $\beta < 1/\gamma$ and
\[ \norm{(S-T)u} \leq \alpha \norm{u} + \beta\norm{Su}^\gamma{u}^{1-\gamma} \qquad\text{for all $u\in \dom(S) = \dom(T)$,} \]
then $T$ is also closed.
\end{proposition}
\begin{proof}
TODO Jeribi.
\end{proof}

\subsubsection{Closable operators}
\begin{definition}
A linear operator is called \udef{closable} if it has closed extension.
\end{definition}

\begin{proposition} \label{closableCriterion}
A linear operator $T$ is closable \textup{if and only if} for all sequences $\seq{x_n}\subset\dom(T)$
\[ \left(x_n\to 0 \land T(x_n)\to v\right) \quad\implies\quad v = 0. \]
\end{proposition}
\begin{proof}
TODO
\end{proof}

\begin{lemma}
A closable operator $T$ has a minimal closed extension $\overline{T}$, which is given by the closure of the graph of $T$.
\end{lemma}
\begin{proof}
TODO
\end{proof}

\begin{lemma} \label{domImClosureOperator}
Let $T$ be a closable operator. Then
\begin{enumerate}
\item $\dom(T)$ is dense in $\dom(\overline{T})$;
\item $\im(T)$ is dense in $\im(\overline{T})$.
\end{enumerate}
\end{lemma}
\begin{proof}
We have $(x,\overline{T}x)\in\graph(\overline{T})$ iff there exists a sequence $\seq{x_n}$ in $\dom(T)$ such that $\seq{x_n,Tx_n}\overset{\norm{\cdot}_{X\oplus Y}}{\longrightarrow} (x,\overline{T}x)$. So we can conclude using \ref{graphNormConvergenceLemma}.
\end{proof}

\subsubsection{Domain and core}
\begin{definition}
Let $T: X\not\to Y$ be a closed operator between normed spaces and $D\subseteq \dom(T)$ a subspace. We call $D$ a \udef{core} or \udef{essential domain} for $T$ if $\setbuilder{(x,Tx)}{x\in D}$ is dense in $\graph(T)\subseteq X\oplus Y$.
\end{definition}

\begin{proposition} \label{operatorCoreCriterion}
Let $T: X\not\to Y$ be a closed operator between normed spaces and $D\subseteq \dom(T)$ a subspace. Then $D$ is a core of $T$ \textup{if and only if} $D$ is dense in $\dom(T)$ w.r.t. the graph norm $\norm{\cdot}_T$ of $T$.
\end{proposition}
Note that the norm is bounded by the graph norm, so the graph norm topology is finer than the norm topology by \ref{normComparison}. Thus $\closure_{\norm{\cdot}_T}(D) \subseteq \closure_{\norm{\cdot}}(D)$ and it is not enough for $D$ to be norm dense in $\dom(T)$.
\begin{proof}
Immediate by \ref{graphNormConvergenceLemma}.
\end{proof}






\chapter{Differentiation}
\url{file:///C:/Users/user/Downloads/978-1-4614-3894-6.pdf}
\url{file:///C:/Users/user/Downloads/2011_Bookmatter_TheRicciFlowInRiemannianGeomet.pdf}

\section{Derivatives of functions between normed groups}
\begin{definition}
Let $G, H$ be normed groups, $f:G\to H$ a function and $x_0\in G$. We call $f$ \udef{differentiable} if there exists a continuous homomorphism $A_{x_0}$ such that
\[ \lim_{x\to 1}\frac{\norm{f(xx_0)f(x_0)^{-1}A_{x_0}(x)^{-1}}}{\norm{x}} = 0. \]
We call $A_{x_0}$ a \udef{derivative} of $f$ at $x_0$.
\end{definition}

\begin{proposition}
Let $G, H$ be normed groups, $f:G\to H$ a function and $x_0\in G$. There exists at most one derivative of $f$ at $x_0$.
\end{proposition}
\begin{proof}
TODO
\end{proof}

\subsection{Frchet derivatives on normed vector spaces}

\section{Directional derivatives}

\section{For real normed vector spaces}
TODO: directional / Gateaux derivative for locally convex TVSs?
\subsection{Directional derivatives}
\begin{definition}
Let $V,W$ be normed vector spaces and $f:U\subseteq V\to W$ a function defined on an open subset $U$. For $a,u\in V$, we call
\[ \partial_u f|_a \defeq \lim_{t\to 0} \frac{f(a+tu) - f(a)}{t} \]
the \udef{directional derivative} of $f$ at $a$ in the direction $u$,if it exists.

\begin{itemize}
\item If $V= \R^n$, then we define $\pd{f}{x^i}f \defeq \partial_{\vec{e}_i}f$, where $\mathcal{E} = \seq{\vec{e}_i}_{i=1}^n$ is the standard basis of $\R^n$. These directional derivatives are called the \udef{partial derivatives} w.r.t. the basis $\mathcal{E}$.
\item If $V = \R$, then there is, up to scalar multiplication, only one direction $u$. We denote the directional derivative $f'(a) \defeq \partial_u f|_a$.
\end{itemize}
\end{definition}
For a given function $f:V\to W$, the directional derivative is a partial function of both a direction and a point:
\[ (V\times V) \not\to W:\quad (u,a) \mapsto \partial_u f(a)  \]

Partial application in the first argument gives a function
\[ \partial_u f:\; V\not\to W:\; a\mapsto \partial_u f(a) \defeq \partial_u f|_a \]
that is also referred to as the \udef{directional derivative} of $f$ in the direction $u$.

\begin{lemma}
Let $f,g: V\to W$, $u\in V$ and $\lambda\in\F$, then
\begin{enumerate}
\item $\partial_u(f+g) = \partial_uf + \partial_u g$;
\item $\partial_u(fg) = (\partial_uf)g + f(\partial_u g)$;
\item $\partial_u(\lambda f) = \lambda \partial_uf$.
\end{enumerate}
\end{lemma}

\begin{proposition} \label{derivativeBilinearForm}
Let $B: V_1 \oplus V_2 \to W$ be a bilinear form. Then, for $(x,y),(a,b)\in V_1\oplus V_2$
\[ \partial_{(x,y)}B|_{(a,b)} = B(x,b) + B(a,y). \]
\end{proposition}
\begin{proof}
We calculate
\begin{align*}
\partial_{(x,y)}B|_{(a,b)} &= \lim_{t\to 0} \frac{B(a+tx, b+ty) - B(a,b)}{t} \\
&= \lim_{t\to 0} \frac{1}{t} (B(a,b) + tB(a,y) + tB(x,b) + t^2B(x,y) - B(a,b)) \\
&=B(x,b) + B(a,y) + \lim_{t\to 0} tB(x,y) \\
&= B(x,b) + B(a,y).
\end{align*}
\end{proof}

\subsubsection{Partial derivatives}
TODO notation $D^\alpha$ for multiindex $\alpha$. Also $|\alpha| = \sum_i \alpha_i$.

\subsubsection{Gateaux derivative}
\begin{definition}
Partial application of the directional derivative in the second argument gives a function
\[ \diff{_af}: V\not\to W: u\mapsto \diff{_af}(u) \defeq \partial_u f|_a = \lim_{t\to 0} \frac{f(a+tu) - f(a)}{t} \]
that is referred to as the \udef{Gateaux differential} of $f$ at the point $a$.

If $\diff{_af}: V\not\to W$ is a bounded linear map, we will refer to it as the \udef{Gateaux derivative}.
\end{definition}
The Gateaux differential is homogeneous even if it is not linear:
\begin{lemma}
Let $f:V\to W$ be a function between normed spaces and $a,u\in V$. If $\partial_u f$ is defined at $a$, then
\[ \diff{_a f}(\lambda u) = \partial_{\lambda u}f(a) = \lambda\partial_u f(a) = \lambda \diff{_a f}(u) \qquad \forall \lambda\in\F. \]
\end{lemma}
\begin{proof}
$\partial_{\lambda u}f(a) = \lim_{t\to 0} \frac{f(a+t\lambda u) - f(a)}{t} = \lim_{t\lambda\to 0} \frac{f(a+t\lambda u) - f(a)}{t \lambda / \lambda} = \lambda\partial_u f(a)$.
\end{proof}

TODO mean value theorem?

\subsection{Hadamard derivative}

\subsection{Frchet derivative}
\begin{definition}
If a function has a (bounded linear) Gateaux derivative at $a$ and the limit in the definition of the derivative
\[ \diff{_af}: V\not\to W: u\mapsto \diff{_af}(u) \defeq \partial_u f|_a = \lim_{t\to 0} \frac{f(a+tu) - f(a)}{t} \]
is uniform in all $u$ on the $S(\vec{0},1)$, then we say the function is \udef{(Frchet) differentiable} at $a$ and has \udef{Frchet derivative} $\diff{_af}$.

We may also write $\diff{f}$, leaving the $a$ implicit.
\end{definition}

\begin{proposition}
Let $V,W$ be normed vector spaces and $f:U\subseteq V\to W$ a function defined on an open subset $U$. Let $a\in V$.

Then $f$ is Frchet differentiable at $a$ \textup{if and only if} there exists a bounded linear map $A: V\to W$ such that $f(a+x)$ can be written as
\[ f(a+x) = f(a) + A(x) + o(x) \qquad \text{as} \qquad x\to 0. \]
In this case $A = \diff{_af}$.
\end{proposition}
\begin{proof}
First assume $f$ is Frchet differentiable at $a$. Then
\begin{multline*}
\forall \varepsilon>0:\exists \delta>0: \; \forall u\in S(\vec{0},1): \forall t\in\R: \; t< \delta \implies \varepsilon > \\ \norm{\frac{f(a+tu) - f(a)}{t} - \diff{_af}(u)} = \frac{\norm{f(a+tu) - f(a)- \diff{_af}(tu)}}{|t|} = \frac{\norm{f(a+tu) - f(a)- \diff{_af}(tu)}}{\norm{tu}}.
\end{multline*}

Now each vector $x$ in $V$ can be written as $tu$ for some $t\in\R$ and $u\in S(\vec{0},1)$, so this can be written as
\[ \forall \varepsilon>0:\exists \delta>0: \; \forall x\in V: \; \norm{x}< \delta \implies  \varepsilon > \frac{\norm{f(a+x) - f(a)- \diff{_af}(x)}}{\norm{x}} \]
which is exactly the statement $f(a+x) = f(a) + \diff{_af}(x) + o(x)$ as $x\to 0$.

The logic can be reversed to obtain the equivalence.
\end{proof}

\begin{proposition}
If a function is Frchet differentiable at a point $a$, then it is continuous at $a$.
\end{proposition}
\begin{proof}
Assume $f$ is has Frchet derivative $A$. Then
\[ 0 = \lim_{x\to a} \norm{f(x) - f(a) - \diff{_af}(x-a)} = \norm{\lim_{x\to a}f(x) - f(a) - \diff{_af}(\lim_{x\to a} x-a)} = \norm{\lim_{x\to a}f(x) - f(a)}. \]
\end{proof}

\begin{lemma}
The Frchet derivative is the same for equivalent norms.
\end{lemma}

\subsubsection{Link with Gateaux derivative}
\url{https://link.springer.com/content/pdf/bbm%3A978-3-642-16286-2%2F1.pdf}
\url{http://www.m-hikari.com/ams/ams-password-2008/ams-password17-20-2008/behmardiAMS17-20-2008.pdf}
\begin{proposition}
If a function between subsets of normed spaces is Frchet differentiable, it is also Gateaux differentiable and the Frchet derivative is equal to the Gateaux derivative.
\end{proposition}
\begin{proof}
Let $A$ be the Frchet derivative of $f: U\subseteq V\to W$. Then for all $u\in V$
\begin{align*}
0 &= \lim_{t\to 0} \frac{\norm{f(a+tu) - f(a) - A(tu)}}{\norm{tu}} = \lim_{t\to 0} \frac{\norm{(f(a+tu) - f(a))/t - A(u)}}{\norm{u}} \\
&= \frac{\norm{\lim_{t\to 0}(f(a+tu) - f(a))/t - A(u)}}{\norm{u}} = \frac{\norm{\diff{_af}(u) - A(u)}}{\norm{u}}. 
\end{align*}
\end{proof}
For this reason we will also denote the Frchet derivative of $f$ at $a$ as $\diff{_a f}$. We will sometimes also write $f'(a)$.

\begin{example}
TODO!

There are functions that have a Gateaux derivative, but not a Frchet derivative at certain points. For example
\[ f: \R^2\to \R: (x,y) \mapsto \begin{cases}
\frac{xy}{x^2+y^2} & (x,y)\neq (0,0) \\0 & (x,y) = (0,0)
\end{cases} \]
which has $\partial_{\vec{u}}f(\vec{0}) = 0$ for all $\vec{u}\in \R^2$ and thus the Gateaux derivative at zero is $\diff{f} = 0$.

Composing $f$ with $t\mapsto (t,t^2)$ yields the function $t\mapsto \begin{cases}
t^{-2} & t\neq 0 \\ 0 & t=0
\end{cases}$, which is not continuous at $0$. So $f$ is not continuous at zero and a fortiori is not Frchet differentiable.
\end{example}

\begin{proposition}
If there exists a basis $\beta$ of $V$ such that the partial derivatives of $f:U\subseteq V\to W$ w.r.t. $\beta$ exist and are continuous in $a\in V$, then $f$ is Frchet differentiable in $a$.
\end{proposition}
\begin{proof}

\end{proof}
TODO for finite dimensions! Expand to criterion for Gateaux to Frchet.
\begin{example}

\end{example}

\subsubsection{The Jacobian}
\begin{definition}
Let $f:U\subseteq\R^m\to\R^n$ be a function. Then $A_{\diff{f}}$ is a matrix with
\[ [A_{\diff{f}}]_{ij} = [\diff{f}\vec{e}_j]_i = \left[\pd{f}{x^j}\right]_i. \]
This matrix is called the \udef{Jacobian} $J_f$.
\end{definition}


\subsection{Differentiation in a convergence algebra}

\begin{proposition}[Leibniz rule]
Let $A$ be a normed algebra and $a,b\in (\R \to A)$ elements that have derivatives. Then
\[ (ab)' = a'b + ab'. \]
\end{proposition}
\begin{proof}
We calculate
\begin{align*}
0 &= 0\cdot a'(t)b'(t) = \lim_{\epsilon \to 0} \epsilon a'(t)b'(t) \\
&= \lim_{\epsilon \to 0} \epsilon \frac{a(t+\epsilon) - a(t)}{\epsilon}\frac{b(t+\epsilon) - b(t)}{\epsilon} \\
&= \lim_{\epsilon \to 0}\frac{a(t+\epsilon)b(t+\epsilon) - a(t+\epsilon)b(t) - a(t)b(t+\epsilon) + a(t)b(t)}{\epsilon} + \frac{a(t)b(t)}{\epsilon} - \frac{a(t)b(t)}{\epsilon} \\
&= \lim_{\epsilon \to 0} \frac{a(t+\epsilon)b(t+\epsilon) - a(t)b(t)}{\epsilon} - \frac{a(t+\epsilon) - a(t)}{\epsilon}b(t) - a(t)\frac{b(t+\epsilon) - b(t)}{\epsilon} \\
&= (ab)' - a'b - ab'.
\end{align*}
\end{proof}

\begin{proposition} \label{derivativeIdempotent}
Let $A$ be an algebra and $p\in A$ such that $p^2 = p$ and $p'$ exists. Then
\begin{enumerate}
\item $p' = pp'+ p'p$;
\item $pp'p = 0$;
\item $(p')^2 = p'pp' + p(p')^2p$;
\item $p^{\prime\prime} = 2(p')^2 + pp^{\prime\prime} + p^{\prime\prime}p$;
\item $pp^{\prime\prime}p = -2p(p')^2p$.
\end{enumerate}
\end{proposition}
\begin{proof}
(1) We calculate $p' = (p^2)' = pp'+ p'p$.

(2) Multiply (1) by $p$ on the left and right.

(3) We calculate $(p')^2 = (pp'+ p'p)(pp'+ p'p) = pp'pp' + pp'p'p + p'ppp' + p'pp'p = 0p + pp'p'p + p'pp' + p'0$.

(4) Take derivative of (1).

(5) Multiply (3) by $p$ on the left and right.
\end{proof}
\begin{corollary}
Let $\Tr$ be a trace functional on $A$ and $p\in A$ as before. Then $\Tr(p') = 0$.
\end{corollary}
\begin{proof}
$\Tr(p') = \Tr(pp'+ p'p) = \Tr(p^2p')+ \Tr(p'p^2) = \Tr(pp'p) + \Tr(pp'p) = 2Tr(0) = 0$.
\end{proof}
\begin{proposition}
Let $p_0,p_1$ be differentiable idempotents such that $p_0p_1 = 0 = p_1p_0$. Then $p_0'p_1 = -p_0p_1'$.
\end{proposition}
\begin{proof}
We have $0 = p_0p_1$, so $0 = 0' = p_0'p_1 + p_0p_1'$.
\end{proof}
\begin{corollary}
Let $p_0,p_1$ be differentiable idempotents such that $p_0p_1 = 0 = p_1p_0$. Then
\begin{enumerate}
\item $p_1p_0'p_0 = -p_1p_1'p_0$;
\item $p_1p_0'p_1 = 0$;
\item $p_1(p_0')^2p_1 = p_1p_1'p_0p_1'p_1$;
\item $p_0(p_0')^2p_1 = 0$;
\item $p_1p^{\prime\prime}_0p_1 = 2p_1(p_0')^2p_1$.
\end{enumerate}
If in addition $p_2$ is a differentiable idempotent such that $p_0p_2 = 0 p_2p_0$ and $p_1p_2 = 0 p_2p_1$, then
\begin{enumerate} \setcounter{enumi}{5}
\item $p_1p_0'p_2 = 0$.
\end{enumerate}
\end{corollary}
\begin{proof}
(1) We have
\[ p_1p_0'p_0 = p_1(p_1p_0')p_0 = -p_1(p_1'p_0)p_0 = -p_1p_1'p_0. \]

(2) We have $p_1p_0'p_1 = -(p_1'p_0)p_1 = -p_1'(p_0p_1) = 0$.

(3) We have $p_1(p_0')^2p_1 = (p_1p_1p_0')(p_0'p_1p_1) = (p_1p_1'p_0)(p_0p_1'p_1)$.

(4) We have $p_0(p_0')^2p_1 = (p_0p_0')(p_0'p_1) = -(p_0p_0')(p_0p_1') = -(p_0p_0'p_0)p_1' = 0$.

(5) We have, using \ref{derivativeIdempotent}, $p_1p^{\prime\prime}_0p_1 = p_1(2(p'_0)^2 + p_0p_0^{\prime\prime} + p_0^{\prime\prime}p_0)p_1 = 2p_1(p_0')^2p_1$.

(6) We have $(p_1p_0')p_2 = - (p_1'p_0)p_2 = - p_1'(p_0p_2) = 0$.
\end{proof}
\begin{corollary} \label{derivativeIdempotentOffDiagonal}
Let $p_0,p_1$ be differentiable idempotents such that $p_0p_1 = 0 = p_1p_0$ and $p_0 + p_1 = 1$. Then
\begin{enumerate}
\item $p_0' = p_0p_0'p_1 + p_1p_0'p_0$;
\item $p_0p_0' = p_0'p_1$ and $p_0'p_0 = p_1p_0'$.
\end{enumerate}
\end{corollary}
\begin{proof}
(1) We have
\[ p_0' = (p_0 + p_1)p_0'(p_0 + p_1) = \cancel{p_0p_0'p_0} + p_0p_0'p_1 + p_1p_0'p_0 + \cancel{p_1p_0'p_1}. \]

(2) We have, using point (1),
\[ p_0p_0' = p_0(p_0p_0'p_1) + p_0(p_1p_0'p_0) = p_0p_0'p_1 = (p_0p_0'p_1)p_1 + (p_1p_0'p_0)p_1 = p_0'p_1. \]
The other equation is similar.
\end{proof}


\begin{proposition}
Let $A$ be a convergence algebra and $a: U\subseteq\C \to A$.

If $a$ is differentiable and $a(t)^{-1}$ exists for all $t\in \R$, then
\[ \od{a^{-1}}{t} = -a^{-1}a'a^{-1}. \]
\end{proposition}
\begin{proof}
We have
\begin{align*}
\od{}{t}a^{-1} &= \lim_{h\to 0}\frac{a(t+h)^{-1} - a(t)^{-1}}{h} \\
&= \lim_{h\to 0} -\frac{a(t)^{-1}a(t+h)a(t+h)^{-1} - a(t)^{-1}a(t)a(t+h)^{-1}}{h} \\
&= \lim_{h\to 0} -\frac{a(t)^{-1}\Big(a(t+h) - a(t)\Big)a(t+h)^{-1}}{h} \\
&= -a(t)^{-1}\left(\lim_{h\to 0}\frac{\big(a(t+h) - a(t)\big)a(t+h)^{-1}}{h}\right)\Big(\lim_{h\to 0}a(t+h)^{-1}\Big) \\
&= -a(t)^{-1}a'a^{-1}.
\end{align*}
\end{proof}

\section{Analytic functions}
TODO: multiindex notation
\begin{definition}
Let $M$ be a convergence module over a ring $R$ and $n\in\N$. A function $f: R^n\to M$ is called \udef{analytic} if
\[ f(x) = \sum_{I\in\N^n}c_I(x-x_0)^I \]
where $c_I\in M^n$ and $x_0\in R^n$.
\end{definition}

\subsection{Taylor expansion}
Radius of convergence

\subsection{Properties of analytic functions}
\begin{proposition}
Let $f$ be an analytic function. Then
\begin{enumerate}
\item $f$ is continuous;
\item $f$ is differentiable.
\end{enumerate}
\end{proposition}

\section{Classification of spaces}
\begin{definition}
Let $X,Y$ be subsets of normed vector spaces and $X$ be open. We call a function $f: X\to Y$
\begin{itemize}
\item \udef{smooth} at $x_0\in V$ if all derivatives of $f$ at $x_0$ exist;
\item \udef{analytic} at $x_0\in V$ if the Taylor series of $f$ at $x_0$ exists and has non-zero radius of convergence.
\end{itemize}
\end{definition}
\begin{lemma}
Let $f: X\to Y$ be a smooth function. Then all derivatives are continuous.
\end{lemma}

\begin{definition}
Let $X,Y$ be subsets of normed vector spaces and $X$ be open.
\begin{itemize}
\item $\cont^r(X,Y)$ is the space of functions in $(X \to Y)$ whose first $r$ derivatives exist and are continuous;
\item $\cont^\infty(X,Y)$ is the space of functions in $(X \to Y)$ that are smooth at all points in $X$;
\item $\cont^\omega(X,Y)$ is the space of functions in $(X \to Y)$ that are analytic at all points in $X$.
\end{itemize}
If $Y = \C$, we write $\cont^r(X), \cont^\infty(X)$ and $\cont^\omega(X)$. We can also use subscripts $_0$ and $_c$ to denote the extra conditions of vanishing at infinity and having compact support.
\end{definition}







\chapter{Banach algebras}
In this part we set $\F \in \{\R, \C\}$. Usually operator algebras are assumed to be complex. We will attempt to give results for real algebras where possible.
\begin{definition}
A \udef{normed algebra} is an associative algebra $A$ over $\F$ with norm $\norm{\cdot}$ such that $(\F, A,+, \norm{\cdot})$ is a normed space and we have \udef{submultiplicativity}, i.e.
\[ \forall x,y\in A: \quad \norm{xy}\leq\norm{x}\norm{y}. \]
We say $A$ is \udef{unital} if there exists a unit element $\vec{1}\in A$ such that
\[ \forall x\in A: \vec{1}\cdot x = x = x\cdot \vec{1} \qquad \text{and} \qquad \norm{\vec{1}} = 1. \]
\end{definition}
TODO: which results also hold for normed algebras?
\begin{definition}
A \udef{Banach algebra} is a normed algebra that is also a Banach space.
\end{definition}

\begin{proposition}
Let $X,Y$ be normed spaces. Then $\Bounded(X,Y)$ is a unital normed algebra.

The algebra $\Bounded(X,Y)$ is a Banach algebra \textup{if and only if} $Y$ is a Banach space.
\end{proposition}
\begin{proof}
We have $\Bounded(X,Y)\subseteq \Lin(X,Y)$. which is an algebra by \ref{linearMapsAlgebra}. Closure under multiplication follows from \ref{operatorNormIsNorm} and \ref{existenceOperatorNorm}. Submultiplicativity is also given by \ref{operatorNormIsNorm}.

The algebra is unital because the identity operator is bounded.

The condition for $\Bounded(X,Y)$ to be a Banach algebra is given by \ref{boundedOperatorsFormBanachSpace}.
\end{proof}

\begin{lemma} \label{multiplicationContinuous}
Let $A$ be a Banach algebra. The multiplication map $\cdot: A\times A \to A: (x,y)\mapsto xy$ is continuous.
\end{lemma}
\begin{proof}
Because $A\times A$ is a metric space, we can combine \ref{sequentialContinuity} and \ref{convergenceFiniteProductTopology} to conclude that the multiplication map is continuous iff $x_ny_n \to xy$ whenever $x_n \to x$ and $y_n \to y$.

Assume $x_n \to x$ and $y_n \to y$. Then
\begin{align*}
\norm{x_ny_n - xy} &= \norm{x_ny_n - xy_n + xy_n - xy} \leq \norm{(x_n-x)y_n}+ \norm{x(y_n-y)}\\ 
&\leq \norm{x_n-x}\cdot\norm{y_n}+ \norm{x}\cdot\norm{y_n-y} = \norm{x_n-x}\cdot\norm{y_n-y+y}+ \norm{x}\cdot\norm{y_n-y}\\
&\leq \norm{x_n-x}\cdot(\norm{y_n-y} + \norm{y})+ \norm{x}\cdot\norm{y_n-y} \to 0
\end{align*}
\end{proof}
As a consequence multiplication by a fixed factor, $x\mapsto cx$ or $x\mapsto xc$ for some $c$, is also continuous, by \ref{productInclusionsContinuous}. This is also immediate from the boundedness of multiplication $\norm{xy}\leq\norm{x}\norm{y}$ and \ref{boundedLinearMaps}.

\begin{lemma}
Let $A$ be a Banach algebra and $D\subset A$ a subset. Suppose $a\in A$ commutes with all elements of $D$, then $a$ commutes with the closure $\overline{D}$.
\end{lemma}
\begin{proof}
Take an arbitrary element $d\in \overline{D}$. Take an arbitrary $\epsilon >0$. Then we can find an $x\in D$ such that $\norm{x-d}\leq \epsilon$. Then, using that $a$ and $x$ commute,
\begin{align*}
\norm{ad - da} &= \norm{a(d+x-x) - (d+x-x)} \\
&= \norm{a(d-x) - (d-x)a} \leq 2\epsilon \norm{a}.
\end{align*}
Because we can choose $\epsilon$ arbitrarily small, $\norm{ad - da}$ must be zero.
\end{proof}

\begin{proposition} \label{smallestBanachAlgebra}
Let $A$ be a Banach algebra and $S\subset A$ a subset. Then
\[ \mathcal{B}(S) \defeq \overline{\Span}\setbuilder{s_1\cdot s_2 \cdot \ldots \cdot s_k}{k\geq 1, s_1,\ldots, s_k \in S} \]
is the smallest Banach subalgebra in $A$ that contains $S$.
\end{proposition}

\section{Unitisation}
\begin{definition}
Let $A$ be a Banach algebra. Then the \udef{unitisation} of $A$ is the algebra $A^\dagger = A\oplus \F$ with multiplication
\[ (x,\lambda)\cdot (y,\mu) = (xy+\lambda y + \mu x, \lambda\mu) \]
and a norm that extends the norm $\norm{\cdot}$ on $A$ to a norm on $A^\dagger$. In other words, there is an isometric embedding
\[ A \hookrightarrow A^\dagger: x\mapsto (x,0). \]
\end{definition}
TODO: is $A^\dagger$ necessarily complete?
\begin{lemma}
For any Banach algebra $A$, $A^\dagger$ is a unital Banach algebra with unit $\vec{1} = (0,1)$.
\end{lemma}
\begin{proof}
TODO: is $A^\dagger$ necessarily complete?
\end{proof}
It is possible to use multiple norms for the unitisation.
\begin{proposition} \label{normsOfUnitisation}
Let $A$ be a Banach algebra. Of the possible norms for $A^\dagger$, the $1$-norm
\[ \norm{(x,\lambda)}_1 = \norm{x}+|\lambda| \]
is minimal and the operator norm
\[ \norm{(x,\lambda)}_{op} = \sup\setbuilder{\norm{xa + \lambda a}}{a\in A \land \norm{a}\leq 1} \]
is maximal. All possible norms are equivalent.
\end{proposition}
\begin{proof}
TODO: prove the operator norm is actually a norm and isometric.
\end{proof}

\begin{definition}
We define
\[ \tilde{A} \defeq \begin{cases}
A & \text{if $A$ unital} \\
A^\dagger & \text{if $A$ non-unital.}
\end{cases} \]
If a Banach algebra $A$ is unital, we can identify $\F$ with $\F\cdot \vec{1} \subseteq A$.
\end{definition}

Alternatively we could define $\tilde{A}$ as the smallest unital Banach algebra containing $A$.

\begin{lemma}
Let $A$ be a Banach algebra. Then $A$ is an ideal of $A^\dagger$.
\end{lemma}

\begin{lemma}
Let $A$ be a Banach algebra. We have the split exact sequence
\[ \begin{tikzcd}
0 \rar & A \rar[hook, "\iota"] & A^\dagger \rar[shift left, "\pi_2"] & \lar[hook, shift left, "\lambda"] \F \rar & 0.
\end{tikzcd} \]
\end{lemma}

\begin{lemma}
Let $A,B$ be Banach algebras. Every algebra homomorphism $\Psi:A\to B$ extends uniquely to a unital homomorphism $\Psi^\dagger: A^\dagger \to B^\dagger$:
\[ \Psi^\dagger: A^\dagger \to B^\dagger: (a,\lambda) \mapsto (\Psi(a),\lambda). \]
\end{lemma}
\begin{proof}
We want $\Psi^\dagger((a,0)) = (\Psi(a),0)$ for all $a\in A$. Because $\Psi$ is unital, we have $\Psi^\dagger((\vec{0},1)) = (\vec{0},1)$. So
\[ \Psi^\dagger((a,\lambda)) = \Psi^\dagger((a,0))+\lambda \Psi^\dagger((\vec{0},1)) = (\Psi(a),0) + \lambda(\vec{0},1) = (\Psi(a),\lambda). \]
\end{proof}
\begin{corollary} \label{projectionOnACommutes}
Let $\pi_1: A^\dagger \to A$ be the projection on the first component: $\pi_1(a,\alpha) = a$.

The unital extension $\Psi^\dagger$ commutes with $\pi_2$:
\[ \pi_2\circ\Psi^\dagger = \Psi^\dagger \circ \pi_2 = \Psi\circ \pi_2. \]
Restricted to $A$, this is equal to $\Psi$.
\end{corollary}

\begin{definition}
As before we set, for $\Psi: A \to B$ an algebra homomorphism
\[ \tilde{\Psi} = \begin{cases}
\Psi & \text{if $A$ unital} \\
\Psi^\dagger & \text{if $A$ non-unital.}
\end{cases} \]
Thus $\tilde{\Psi}$ is a function on $\tilde{A}$.
\end{definition}

\begin{lemma} \label{DaggerMorphismProperties}
Let $A,B$ be Banach algebras and $\Psi:A\to B$ and algebra homomorphism. Then
\begin{enumerate}
\item $\im(\Psi^\dagger) = (\im\Psi)^\dagger$;
\item $\ker(\Psi^\dagger) = \ker(\Psi)\oplus\{0\}$;
\item $\Psi^\dagger$ is injective \textup{if and only if} $\Psi$ is injective;
\item $\Psi^\dagger$ is surjective \textup{if and only if} $\Psi$ is surjective;
\item $\norm{\Psi^\dagger} = \max\{\norm{\Psi},1\}$;
\item $\Psi^\dagger$ is isometric \textup{if and only if} $\Psi$ is isometric.
\end{enumerate}
\end{lemma}
\begin{proof}
The third point follows from the second and \ref{injectivityKernelTriviality}.
\end{proof}

\begin{definition}
Let $A$ be a Banach algebra. We define the \udef{scalar mapping} to be
\[ s = \lambda\circ \pi: A^\dagger \to A^\dagger: (a,\lambda) \mapsto (0,\lambda). \]
\end{definition}
Notice that $\pi\circ s = \pi$.

\subsection{Approximate units}
\begin{definition}
Let $A$ be a Banach algebra. A net $(e_\lambda)_{\lambda\in\Lambda}$ is an \udef{approximate unit} if
\begin{enumerate}
\item $\norm{e_\lambda}\leq 1$ for all $\lambda$;
\item $a = \lim_{\lambda\to \infty} e_\lambda \cdot a = \lim_{\lambda\to \infty} a \cdot e_\lambda$.
\end{enumerate}
We call $(e)_\lambda$ is an \udef{increasing approximate unit} if $\lambda_0 \leq \lambda_1$ implies $0\leq e_{\lambda_0} \leq e_{\lambda_1}$.
\end{definition}
\begin{lemma}
If $A$ is unital, any approximate unit in $A$ converges to $\vec{1}$.
\end{lemma}
\begin{proof}
We have $\vec{1} = \lim_{\lambda\to\infty}e_\lambda\cdot \vec{1} = \lim_{\lambda\to\infty}e_\lambda$.
\end{proof}

\section{Neumann series}
\begin{proposition}[Neumann series] \label{NeumannSeries}
Let $A$ be a unital Banach algebra and $x\in A$. 
If $\norm{x}<1$, then $\vec{1}-x$ is invertible with inverse
\[ (\vec{1}-x)^{-1} = \sum_{n=0}^\infty x^n \qquad\text{and}\qquad \norm{(\vec{1} - x)^{-1}} \leq \frac{1}{1-\norm{x}}. \]
Equivalently, if $\norm{\vec{1}-x}< 1$, then $x$ is invertible with inverse
\[ x^{-1} = \sum_{n=0}^\infty(\vec{1}-x)^n. \]
\end{proposition}
\begin{proof}
Since $\norm{x^n}\leq \norm{x}^n$ for all $n\geq 1$ and $\sum \norm{x}^n$ is a convergent geometric series, the series $\sum x^n$ is convergent by \ref{absoluteUnconditionalConvergenceBanach}.

Also
\[ \norm{(\vec{1} - x)^{-1}} = \norm{\sum_{i=0}^\infty x^i} \leq \sum_{i=0}^\infty \norm{x}^i = \frac{1}{1-\norm{x}} \]
by the geometric series.
\end{proof}
We can in fact weaken the requirement of $\norm{x}<1$ to $\exists k\in\N: \norm{x^k}<1$:
\begin{corollary} \label{NeumannSeriesEventuallyContractive}
Let $A$ be a unital Banach algebra and $x\in A$ such that $\norm{x^k}<1$ for some $k>0$. Then $\vec{1} - x$ is invertible and $(\vec{1} - x)^{-1} = \sum_{i=0}^\infty x^i$.
\end{corollary}
\begin{proof}
We know that the Neumann series $\sum_{i=0}^\infty(x^k)^i$ converges. So
\[ \sum_{i=0}^\infty x^i = (\vec{1} + x + x^2 +\ldots + x^{k-1})\sum_{i=0}^\infty(x^k)^i \]
converges.

To show this convergent sequence acturally gives the correct inverse, we calculate
\begin{align*}
(\vec{1}-x)(\vec{1} + x + x^2 +\ldots + x^{k-1})(\vec{1} - x^k)^{-1} &= \Big(\vec{1} + x + x^2 +\ldots + x^{k-1} - x - x^2 -\ldots - x^{k}\Big)(\vec{1} - x^k)^{-1} \\
&= (\vec{1} - x^k)(\vec{1} - x^k)^{-1} = \vec{1}.
\end{align*}
This shows that $\sum_{i=0}^\infty x^i$ is the correct right inverse. To show it is also a left inverse, we expand $(\vec{1} - x^k)^{-1}(\vec{1} + x + x^2 +\ldots + x^{k-1})(\vec{1}-x)$.
\end{proof}


\begin{lemma}
Let $A$ be a unital Banach algebra and $a,b\in A$ with $\norm{a} < 1$. Then $\sum_{n=0}^\infty a^nb$ is the unique fixed point of $x\mapsto ax+b$.
\end{lemma}
\begin{proof}
The function $x\mapsto ax+b$ is a contraction if and only if $\norm{x}<1$. So it has a unique fixed point (TODO). Starting the fixed point iteration at $b$ yields the series:
\begin{align*}
b &\mapsto  ab+b \\
ab+b &\mapsto a^2b + ab + b \\
&\hdots.
\end{align*}
\end{proof}
This gives an alternate proof of the convergence of the Neumann series.

\begin{proposition} \label{openSetInvertibles}
Let $x\in\GL(A)$ and $y\in A$ such that $\norm{y} < \norm{x^{-1}}^{-1}$, then
\begin{enumerate}
\item $(x-y)^{-1} = x^{-1}\sum_{i=0}^\infty(x^{-1}y)^i$ for all $y\in A$ such that $\norm{y}\leq \norm{x^{-1}}^{-1}$;
\item $\ball(x,\norm{x^{-1}}^{-1})\subset \GL(A)$;
\item the invertible elements $\GL(A)$ form an open subset of $A$.
\end{enumerate}
\end{proposition}
\begin{proof}
(1) From $\norm{x^{-1}y} \leq \norm{x^{-1}}\,\norm{y} < \norm{x^{-1}}\,\norm{x^{-1}}^{-1} = 1$, we have that $(\vec{1} - x^{-1}y)$ is invertible with a Neumann series expansion. We then have
\[ x^{1}\sum_{i=0}^\infty (x^{-1}y)^i = x^{-1}(\vec{1} - x^{-1}y)^{-1} = (x-y)^{-1}. \]

(2) Any element in  $\ball(x,\norm{x^{-1}}^{-1})$ is of the form $x-z$, where $\norm{z} < \norm{x^{-1}}^{-1}$.

(3) This follows from (2) by \ref{interior}.
\end{proof}
TODO: this also works if $x$ is closed, bijective linear operator on a Banach space (i.e.\ not necessarily bounded).

\begin{proposition} \label{inverseMapContinuous}
The map $^{-1}: \GL(A)\to\GL(A): x\mapsto x^{-1}$ is continuous.
\end{proposition}
\begin{proof}
Take a convergent sequence $(x_n)\subset\GL(A)$ with limit $x$. We wish to prove $(x_n^{-1})$ converges to $x^{-1}$, because then the map is continuous by \ref{sequentialContinuity}. We can choose an $n_0$ such that $\forall n\geq n_0: x_n \in B(x,\norm{x^{-1}}^{-1})$. From now on we consider only the tails $(x_n)_{n=n_0}^\infty$ and $(x_n^{-1})_{n=n_0}^\infty$, which have the same limits. Then
\[ \norm{x^{-1}}\cdot\norm{x-x_n} < \norm{x^{-1}}\cdot\norm{x^{-1}}^{-1} = 1. \]
Also
\[ \norm{\vec{1} - x^{-1}x_n} = \norm{x^{-1}(x-x_n)} \leq \norm{x^{-1}}\cdot\norm{x-x_n} < 1. \]
We calculate, using the inequalities to apply the Neumann series formula and geometric series formula:
\begin{align*}
\norm{x_n^{-1} - x^{-1}} &= \norm{(x_n^{-1}x - \vec{1})x^{-1}} = \norm{((x^{-1}x_n)^{-1} - \vec{1})x^{-1}} \\
&= \norm{\left(\sum_{k=0}^\infty[\vec{1} - x^{-1}x_n]^k - \vec{1}\right)x^{-1}} = \norm{\left(\sum_{k=1}^\infty[\vec{1} - x^{-1}x_n]^k\right)x^{-1}} \\
&\leq \sum_{k=1}^\infty\norm{\vec{1} - x^{-1}x_n}^k\cdot\norm{x^{-1}} = \sum_{k=1}^\infty\norm{x^{-1}(x - x_n)}^k\cdot\norm{x^{-1}} \\
&\leq \norm{x^{-1}}\sum_{k=1}^\infty\norm{x - x_n}^k\cdot\norm{x^{-1}}^{k} = \norm{x^{-1}}\sum_{k=0}^\infty\norm{x - x_n}^k\cdot\norm{x^{-1}}^{k} - \norm{x^{-1}} \\
&= \frac{\norm{x^{-1}}}{1-\norm{x - x_n}\cdot\norm{x^{-1}}}-\norm{x^{-1}} = \frac{\norm{x - x_n}\cdot\norm{x^{-1}}^2}{1-\norm{x - x_n}\cdot\norm{x^{-1}}}.
\end{align*}
As the right-hand side converges to $0$, so must the left-hand side. Thus $(x_n^{-1})$ converges to $x^{-1}$.
\end{proof}


\subsection{The exponential}
TODO: use functional calculus??

\begin{proposition}
Let $A$ be a Banach algebra and $a\in A$. Then the series
\[ \sum_{i=1}^\infty \frac{a^i}{i!} \]
converges. We denote its limit $\exp(a)-1$ or $e^a-1$.
\end{proposition}
\begin{proof}
By
\[ \norm{\sum_{i=1}^N \frac{a^i}{i!}} \leq \sum_{i=1}^N \frac{\norm{a}^i}{i!} \]
it is absolutely convergent and thus convergent, by \ref{absoluteUnconditionalConvergenceBanach}.
\end{proof}
The function $a\mapsto \exp(a) = \vec{1} + \sum_{i=1}^\infty \frac{a^i}{i!}$ is the \udef{exponential mapping}.

Note that $\exp(0) = \vec{1}$.

\begin{lemma} \label{continuityExp}
The exponential mapping is continuous.
\end{lemma}
\begin{proof}
TODO - see Coleman
\end{proof}

\begin{proposition} \label{factorisationCommutingExponentials}
Let $A$ be a unital Banach algebra and $a,b\in A$. If $a$ and $b$ commute, then
\[ \exp(a+b) = \exp(a)\exp(b). \]
\end{proposition}
\begin{proof}
TODO - Coleman
\end{proof}
\begin{corollary}
Let $a\in A$. Then $\exp(a)\in \GL(A)$ and $\exp(a)^{-1} = \exp(-a)$.
\end{corollary}
\begin{proof}
As $a$ and $-a$ commute, we have $\exp(-a)\exp(a) = \exp(0) = \vec{1}$.
\end{proof}

\begin{lemma}
Let $A$ be a Banach algebra and $a\in A$. Then
\[ \exp(a) = \lim_{n\to\infty} \left(\vec{1} + \frac{a}{n}\right)^n. \]
\end{lemma}
\begin{proof}
TODO
\end{proof}

\begin{lemma}
Let $A$ be a Banach algebra and $p\in A$ an idempotent. Then
\[ e^p = \vec{1} + (e-1)p. \]
\end{lemma}
\begin{proof}
We calculate
\[ e^p = \vec{1} + \sum_{k=1}^\infty \frac{p^k}{k!} = \vec{1} + \sum_{k=1}^\infty \frac{p}{k!} = \vec{1} + p\sum_{k=1}^\infty \frac{1}{k!} = \vec{1} + (e-1)p. \]
\end{proof}

\begin{lemma}
Let $A$ be a Banach algebra, $a\in A$ and $b\in \GL(A)$. Then $\exp(bab^{-1}) = b\exp(a)b^{-1}$.
\end{lemma}
\begin{proof}
TODO
\end{proof}

TODO: $\exp(a^*) = \exp(a)^*$ is Banach-$*$-algebra.

TODO: correct setting for this:
\begin{proposition}
$\det(e^a) = e^{\Tr(a)}$.
\end{proposition}

\section{Quotient algebras}
\begin{proposition}
Let $A$ be a Banach algebra and $J\subset A$ a closed (two-sided) ideal. Then $A/J$ is a Banach algebra.
\end{proposition}
\begin{proof}
We know that $A/J$ is a Banach space by \ref{quotientBanachSpace} and an algebra by (TODO ref). We just need to check that the quotient norm is submultiplicative.

Take $a,b\in A$ and $\epsilon>0$. Then there exist $x,y\in J$ such that $\norm{a+J} + \epsilon > \norm{a+x}$ and $\norm{b+J} + \epsilon > \norm{b+y}$. Then
\begin{align*}
\big(\norm{a+J} + \epsilon\big)\big(\norm{b+J} + \epsilon\big) &> \norm{a+x}\;\norm{b+y} \\
&\geq \norm{(a+x)(b+y)} = \norm{ab + (ay+xb+xy)} \geq \norm{ab + J}.
\end{align*}
Taking $\epsilon\to 0$, gives $\norm{a+J}\;\norm{b+J} \geq \norm{ab + J}$.
\end{proof}

\begin{proposition}
Let $A$ be a unital Banach algebra and $J\subseteq A$ a proper ideal. Then $\norm{\vec{1}}_{A/J} = 1$.
\end{proposition}
\begin{proof}
Since $0\in J$, we have $\norm{\vec{1}}_{A/J} \leq 1$ and it is enough to show that $\norm{\vec{1}+z} \geq 1$ for all $z\in J$. Suppose, towards a contradiction, that $\norm{\vec{1}+z} < 1$, so $z\in \ball(\vec{1},1)$. This means that $z$ is invertible by \ref{openSetInvertibles} and thus that $J$ is not proper by \ref{properIdealNoUnit}.
\end{proof}
\begin{corollary}
Let $A$ be a unital Banach algebra and $J$ a proper ideal. Then
\begin{enumerate}
\item $\vec{1} \notin \overline{J}$;
\item if $J$ is maximal, then it is closed.
\end{enumerate}
\end{corollary}
\begin{proof}
(1) We have $\vec{1}\notin J$ by \ref{properIdealNoUnit}. There does not exist a sequence in $J$ that converges to $\vec{1}$ because $1 = \norm{\vec{1}}_{A/J} = \inf_{z\in J}\norm{\vec{1}-z}$.

(2) Let $J\subseteq A$ be a maximal ideal in $A$. It is enough to show that the closure $\overline{J}$ is also an ideal. Since $\vec{1}\notin \overline{J}$ this ideal is proper.

The fact that $\overline{J}$ is an ideal follows straight from the continuity of addition and multiplication.
\end{proof}


\section{Finite elements}
elements of the socle. \url{https://link.springer.com/content/pdf/10.1023/A:1009717500980.pdf}

have finite spectrum 

\url{http://matwbn.icm.edu.pl/ksiazki/sm/sm104/sm10431.pdf}

\section{Real and complex Banach algebras}
TODO: define $A_\R$ and $A_\C$.

\begin{proposition} \label{preservationAlgebraicPropertiesComplexificationRealification}
$\GL(A) = \GL(A_\C)\cap A$ etc.
\end{proposition}

\section{The spectrum}
TODO: remove unital requirement.
\begin{definition}
Let $A$ be a complex Banach algebra. The \udef{spectrum} of an element $x\in A$ is defined as
\[ \spec(x) = \spec_A(x) \defeq \setbuilder{\lambda\in\C}{\lambda\cdot \vec{1} - x \in \tilde{A} \;\text{is not invertible}}. \]
If $A$ is a real Banach algebra, then the spectrum of $x\in A$ is defined as
\[ \spec_A(x) \defeq \spec_{A_\C}(x) = \setbuilder{\lambda\in\C}{\lambda\cdot \vec{1} - x \in \widetilde{A_\C} \;\text{is not invertible}}.  \]
The \udef{resolvent set} of an element $x\in A$ is
\[ \res(x) = \C\setminus\spec(x) \]
and its \udef{resolvent map} is
\[ R_x: \res(x) \to A : \lambda\mapsto (\lambda\cdot\vec{1}  - x)^{-1}. \]
The \udef{spectral radius} of $x\in A$ is
\[ \spr(x) = \sup\setbuilder{|\lambda|}{\lambda\in\spec(x)}. \]
\end{definition}
As we will later show that the spectrum is compact (\ref{spectrumCompact}), we may equivalently write
\[ \spr(x) = \max\setbuilder{|\lambda|}{\lambda\in\spec(x)}. \]

\begin{lemma}
Let $A$ be a non-unital Banach algebra. Then $0\in\spec_A(a)$ for all $a\in A$.
\end{lemma}
\begin{proof}
Because $A\subset A^\dagger$ as an ideal, $(a,0)\in A^\dagger$ is not invertible.
\end{proof}

\begin{lemma}
Let $A$ be a real Banach algebra. Then for all $a\in A$ and $\mu_1,\mu_2\in \R$:
\begin{enumerate}
\item $\spec(a) = \overline{\spec(a)}$;
\item $\mu_1 + \mu_2 i \in \spec(a)$ \textup{if and only if} $(a-\mu_1)^2+\mu_2^2$ is not invertible in $\tilde{A}$.
\end{enumerate}
\end{lemma}
\begin{proof}
(1) Assume $\lambda \notin \spec(a)$, so $(\lambda-a)^{-1}$ exists. Then
\[ \vec{1} = \overline{\vec{1}} = \overline{(\lambda-a)}\overline{(\lambda-a)^{-1}} = (\overline{\lambda}-a)\overline{(\lambda-a)^{-1}}, \]
so $\overline{\lambda}-a$ is invertible and $\overline{\lambda}\notin \spec(a)$. The converse is identical, using $\overline{\lambda}$.

(2) By (1), $(\mu_1 + \mu_2 i)\vec{1}- a$ is invertible if and only if $(\mu_1 - \mu_2 i)\vec{1}-a$ is invertible. Because $(\mu_1 + \mu_2 i)\vec{1}-a$ and $(\mu_1 - \mu_2 i)\vec{1}-a$ commute, this is equivalent to saying
\[ \big((\mu_1 + \mu_2 i)-a\big)\big((\mu_1 - \mu_2 i)-a\big) = (\mu_1-a)^2 + \mu_2^2 \]
is invertible in $\widetilde{A_\C}$, by \ref{productInvertibility} and thus also in $A$ by \ref{preservationAlgebraicPropertiesComplexificationRealification}.
\end{proof}

\begin{proposition}
Let $B$ be a complex Banach algebra and $A = B_\R$, then for all $a\in A$
\[ \spec_A(a) = \spec_B(a) \cup \overline{\spec_B(a)}. \]
\end{proposition}
\begin{proof}
TODO
\end{proof}

\begin{proposition} \label{spectrumCompact}
For any $x\in A$, the spectrum $\spec(x)$ is a compact subset of $\setbuilder{\lambda\in\C}{|\lambda|\leq \norm{x}}$.

In particular, $\spr(x) \leq \norm{x}$.
\end{proposition}
\begin{proof}
Let $\lambda\in \C$ be such that $|\lambda|>\norm{x}$, then
\[ 1 > \frac{\norm{x}}{|\lambda|} = \frac{\lambda - (\lambda - \norm{x})}{|\lambda|} = \norm{\vec{1} - \left(\vec{1} - \frac{x}{\lambda}\right)}. \]
By \ref{NeumannSeries}, $\vec{1} - x/\lambda$ is invertible and thus so is $\lambda-x$.

It is then enough to show that $\spec(x)$ is closed. By \ref{openSetInvertibles}, $\GL(A)$ is open and the set of non-invertibles $A\setminus \GL(A)$ is closed. Consider $f: \C \to A: \lambda \mapsto \lambda - x$. Then $\spec(x) = f^{-1}[A\setminus \GL(A)]$ is the preimage of a closed set under a continuous map, and hence is closed.
\end{proof}

\begin{lemma}[Polynomial spectral mapping] \label{polynomialSpectralMapping}
Let $A$ be a Banach algebra and $p$ a complex polynomial. Then
\[ p^{\imf}\big(\spec(x)\big) \subseteq \sigma\big(p(x)\big). \]
\end{lemma}
\begin{proof}
Take $\lambda\in\spec(x)$ so $p(\lambda)\in p^{\imf}\big(\spec(x)\big)$. Then $y\mapsto p(\lambda)-p(y)$ is a polynomial with zero at $\lambda$, so we can factorise it as $(\lambda - y)q(y)$ for some other polynomial $q$ by the fundamental theorem of algebra (TODO ref).

Now suppose, towards a contradiction, that $p(\lambda)\notin \sigma\big(p(x)\big)$. Then $p(\lambda) - p(x) = (\lambda - x)q(x) = q(x)(\lambda - x)$ has an inverse, so $(\lambda - x)$ is invertible by \ref{productInvertibility}. This contradicts $\lambda\in\spec(x)$.
\end{proof}

\begin{proposition}
Let $A$ be a unital Banach algebra and $x,y\in A$. Then $\vec{1} - xy$ is invertible \textup{if and only if} $\vec{1} - yx$ is invertible.
\end{proposition}
\begin{proof}
Assume $\vec{1} - xy$ invertible. Then the inverse of $\vec{1} - yx$ is
\[ y(\vec{1} - xy)^{-1}x + \vec{1}. \]
\end{proof}
\begin{corollary}
Let $A$ be a unital Banach algebra and $x,y\in A$. Then
\[ \spec(xy)\cup\{0\} = \spec(yx)\cup\{0\}. \]
\end{corollary}
\begin{proof}
Assuming $\lambda \neq 0$, we have $\lambda\in\spec(xy) \iff \frac{xy}{\lambda} - \vec{1}$ is invertible.
\end{proof}
It is important to include $0$: there are cases when $0\in \spec(xy)$, but $0\notin \spec(yx)$.

\begin{lemma} \label{spectrumOfImage}
Let $A,B$ be unital Banach algebras and $\Psi: A\to B$ a unital algebra homomorphism. Then for all $x\in A$: $\spec(\Psi(x)) \subseteq \spec(x)$ and hence $\spr(\Psi(x)) \leq \spr(x)$.
\end{lemma}
\begin{proof}
By contraposition: Assume $\lambda\notin\spec(x)$, then $x-\lambda$ has an inverse, call it $a$. Then $(\Psi(x) - \lambda)$ has an inverse by
\[ (\Psi(x) - \lambda)\Psi(a) = \Psi(x-\lambda)\Psi(a) = \Psi((x-\lambda)a) = \Psi(\vec{1}) = \vec{1},\]
meaning $\lambda \notin \spec(\Psi(x))$.
\end{proof}

In general if $B$ is a subalgebra of a Banach algebra $A$, then for any $x\in B$, $\spec_B(x) \supseteq \spec_A(x)$.

\begin{proposition}
Let $A$ be a unital Banach algebra and suppose that $S\subset A$ is a set of pairwise commuting elements. Then there exists a unital commutative Banach subalgebra $C$ such that $S\subset C\subset A$ and
\[ \spec_A(s) = \spec_C(s) \qquad \text{for all $s\in S$.} \]
\end{proposition}
\begin{proof}
TODO
\end{proof}


\subsection{Resolvents and pseudoresolvents}

\begin{proposition} \label{secondNeumannSeries}
Let $A$ be a Banach algebra, $x\in A$ and $|\lambda| > \liminf_{n\to \infty}\norm{x^n}^{1/n}$, then
\begin{enumerate}
\item $\lambda\in\res(x)$;
\item $R_x(\lambda) = \sum_{n=0}^\infty\frac{x^n}{\lambda^{n+1}}$;
\item $\norm{R_x(\lambda)} \leq \frac{1}{|\lambda|-\norm{x}}$.
\end{enumerate}
\end{proposition}
\begin{proof}
Take arbitrary $\epsilon > 0$. We can find an $n\in\N$ such that $|\lambda| > \norm{x^n}^{1/n}$, so $1 > \norm{\left(\frac{x}{\lambda}\right)^n}$. By \ref{NeumannSeriesEventuallyContractive}, we have that $(\vec{1} - \frac{x}{\lambda})$ is invertible and
\[ R_x(\lambda) = \lambda^{-1} \left(\vec{1} - \frac{x}{\lambda}\right)^{-1} = \lambda \sum_{n=0}^\infty\left(\frac{x}{\lambda}\right)^n = \sum_{n=0}^\infty\frac{x^n}{\lambda^{n+1}}. \]
Finally $\norm{R_x(\lambda)} \leq \sum_{n=0}^\infty\frac{\norm{x}^n}{|\lambda|^{n+1}} = \frac{1}{|\lambda|(1-\frac{\norm{x}}{\lambda})} = \frac{1}{|\lambda|-\norm{x}}$.
\end{proof}

\subsubsection{Pseudoresolvents and first resolvent identity}
\begin{definition}
Let $A$ be a Banach algebra. A function $\mathcal{R}:\Lambda \subseteq \C \to A$ is called a \udef{pseudoresolvent} if, for all $\lambda,\mu\in\Lambda$
\[ \mathcal{R}(\lambda) - \mathcal{R}(\mu) = (\mu-\lambda)\mathcal{R}(\lambda)\mathcal{R}(\mu). \]
This equation is known as the (first) \udef{resolvent identity}.
\end{definition}

Note that if a pseudoresolvent $\mathcal{R}$ is zero anywhere, it is identically zero.

\begin{lemma}
Let $\mathcal{R}:\Lambda \subseteq \C \to A$ be a pseudoresolvent on a Banach algebra $a$ and $\lambda,\mu\in\Lambda$. Then $\mathcal{R}(\lambda)\mathcal{R}(\mu) = \mathcal{R}(\mu)\mathcal{R}(\lambda)$.
\end{lemma}
\begin{proof}
If $\lambda = \mu$, then the result is immediate. If $\lambda \neq \mu$, then
\[ \mathcal{R}(\lambda)\mathcal{R}(\mu) = (\mu-\lambda)^{-1}\big(\mathcal{R}(\lambda) - \mathcal{R}(\mu)\big) = (\lambda - \mu)^{-1}\big(\mathcal{R}(\mu) - \mathcal{R}(\lambda)\big) = \mathcal{R}(\mu)\mathcal{R}(\lambda). \]
\end{proof}

\begin{proposition} \label{firstNeumannSeries}
Let $\mathcal{R}:\Lambda \subseteq \C \to A$ be a pseudoresolvent and $\lambda_0,\lambda\in\Lambda$ such that $|\lambda-\lambda_0|\,\norm{\mathcal{R}(\lambda_0)} < 1$. Then
\[ \mathcal{R}(\lambda) = \sum_{n=0}^\infty(\lambda_0 - \lambda)^n \mathcal{R}(\lambda_0)^{n+1} \qquad\text{and}\qquad \norm{\mathcal{R}(\lambda)} \leq \frac{1}{\norm{\mathcal{R}(\lambda_0)}^{-1} - |\lambda_0-\lambda|}. \]
In particular $\mathcal{R}$ is analytic and can be analytically continued to $\Lambda \cup \ball(\lambda_0, \norm{\mathcal{R}(\lambda_0)}^{-1})$. The analytic continuation still satisfies the resolvent identity.
\end{proposition}
\begin{proof}
By assumption we have $(\lambda - \lambda_0)\mathcal{R}(\lambda_0)$ is a contraction, so $(\id_X - (\lambda - \lambda_0)\mathcal{R}(\lambda_0))^{-1}$ exists and has a Neumann series expansion by \ref{NeumannSeries}. From the resolvent identity, we get
\[ \mathcal{R}(\lambda)\big(\id_X - (\lambda_0 - \lambda)\mathcal{R}(\lambda_0)\big) = \mathcal{R}(\lambda_0), \]
so, using the Neumann series expansion,
\begin{align*}
\mathcal{R}(\lambda) &= \big(\id_X - (\lambda_0 - \lambda)\mathcal{R}(\lambda_0)\big)^{-1}\mathcal{R}(\lambda_0) \\
&= \sum_{n=0}^\infty(\lambda_0 - \lambda)^n \mathcal{R}(\lambda_0)^{n+1}.
\end{align*}
This series converges in norm for all $\lambda\in \C$ such that $|\lambda-\lambda_0| < \norm{\mathcal{R}(\lambda_0)}^{-1}$. Running the equalities in reverse gives the resolvent identity.

The norm estimate is also given by \ref{NeumannSeries}:
\begin{align*}
\norm{\mathcal{R}(\lambda)} &\leq \norm{\big(\id_X - (\lambda_0 - \lambda)\mathcal{R}(\lambda_0)\big)^{-1}}\norm{\mathcal{R}(\lambda_0)} \\
&\leq \frac{1}{1 - |\lambda_0-\lambda|\,\norm{\mathcal{R}(\lambda_0)}}\norm{\mathcal{R}(\lambda_0)} \\
&= \frac{1}{\norm{\mathcal{R}(\lambda_0)}^{-1} - |\lambda_0-\lambda|}.
\end{align*}
\end{proof}
\begin{corollary} \label{derivativePseudoresolvent}
Let $\mathcal{R}:\Lambda \subseteq \C \to A$ be a pseudoresolvent. Then
\begin{enumerate}
\item $\mathcal{R}'(\lambda) = -\mathcal{R}(\lambda)^2$ for all $\lambda\in\Lambda$;
\item $\mathcal{R}^{(n)}(\lambda) = n!(-1)^n \mathcal{R}(\lambda)^{n+1}$ for all $n\in \N$.
\end{enumerate}
In particular the map $\mathcal{R}$ is holomorphic on its domain of definition.
\end{corollary}
\begin{proof}
We calculate
\begin{align*}
\mathcal{R}'(\lambda) &= \lim_{\mu\to\lambda} \frac{\mathcal{R}(\mu) - \mathcal{R}(\lambda)}{\mu-\lambda} \\
&= \lim_{\mu\to\lambda} \frac{\mathcal{R}(\mu) - \mathcal{R}(\lambda)}{\mu-\lambda} \\
&= \lim_{\mu\to\lambda} -\mathcal{R}(\lambda)\mathcal{R}(\mu) = -\mathcal{R}(\lambda)\lim_{\mu\to\lambda} \mathcal{R}(\mu) = -\mathcal{R}(\lambda)^2.
\end{align*}
For the last equality we have used the fact that $\mathcal{R}$ is continuous, which follows from its analyticity.
\end{proof}

\begin{proposition} \label{firstResolventIdentity}
Let $A$ be a Banach algebra and $x\in A$. Then the resolvent map
\[ R_x: \res(x)\to A: \lambda \mapsto (\lambda\cdot\vec{1} - x)^{-1} \]
is a pseudoresolvent.
\end{proposition}
\begin{proof}
We first note that $R_x(\lambda), R_x(\mu)$ commute for any $\lambda,\mu\in\spec(x)$, by \ref{commutationInverse}.

We then calculate
\begin{align*}
R_x(\lambda) - R_x(\mu) &= R_x(\lambda)(\mu - x)R_x(\mu) - R_x(\lambda)(\lambda - x)R_x(\mu) \\
&= \mu R_x(\lambda)R_x(\mu) - R_x(\lambda)xR_x(\mu) - \lambda R_x(\lambda)R_x(\mu) + R_x(\lambda)xR_x(\mu) \\
&= \mu R_x(\lambda)R_x(\mu) - \cancel{R_x(\lambda)xR_x(\mu)} - \lambda R_x(\lambda)R_x(\mu) + \cancel{R_x(\lambda)xR_x(\mu)} \\
&= (\mu - \lambda)R_x(\lambda)R_x(\mu).
\end{align*}
\end{proof}

\subsubsection{Second resolvent identity}
\begin{proposition}[Second resolvent identity] \label{secondResolventIdentity}
Let $A$ be a Banach algebra and $x,y\in A$. Then for all $\lambda \in \res(x)\cap \res(y)$ we have
\[ R_x(\lambda) - R_y(\lambda) = R_x(\lambda)\big(x-y\big)R_y(\lambda). \]
\end{proposition}
\begin{proof}
We have
\begin{align*}
R_x(\lambda)\big(x-y\big)R_y(\lambda) &= R_x(\lambda)\big(\lambda\vec{1}-y - (\lambda\vec{1} - x)\big)R_y(\lambda) \\
&= R_x(\lambda)\cancel{(\lambda\vec{1}-y)R_y(\lambda)} - \cancel{R_x(\lambda)(\lambda\vec{1} - x)}R_y(\lambda) \\
&= R_x(\lambda) - R_y(\lambda).
\end{align*}
\end{proof}
We can obtain the first resolvent identity from the second by setting $y = (\lambda-\mu)\vec{1} + x$. Then $R_{(\lambda-\mu)\vec{1} + x}(\lambda) = R_x(\mu)$, so
\begin{align*}
R_x(\lambda) - R_x(\mu) &= R_x(\lambda) - R_{(\lambda-\mu)\vec{1} + x}(\lambda) \\
&= R_x(\lambda)(x - (\lambda-\mu)\vec{1} + x)R_{(\lambda-\mu)\vec{1} + x}(\lambda) \\
&= (\lambda - \mu)R_x(\lambda)R_{(\lambda-\mu)\vec{1} + x}(\lambda) \\
&= (\lambda - \mu)R_x(\lambda)R_x(\mu).
\end{align*}

\begin{corollary}
Let $x,y\in A$ and $\lambda\in \res(x)\cap \res(y)$ be such that $\norm{R_x(\lambda)(y-x)}<1$. Then 
\[ R_y(\lambda) = \sum_{n=0}^\infty \big(R_x(\lambda)(y-x)\big)^nR_x(\lambda) \quad\text{and}\quad \norm{R_y(\lambda)} \leq \frac{1}{\norm{R_x(\lambda)}^{-1} - \norm{y-x}}. \]
\end{corollary}
\begin{proof}
We have
\[ R_x(\lambda) = R_y(\lambda) + R_x(\lambda)(x-y)R_y(\lambda) = \big(\vec{1} + R_x(\lambda)(x-y)\big)R_y(\lambda) = \big(\vec{1} - R_x(\lambda)(y-x)\big)R_y(\lambda). \]
Because $R_x(\lambda)(y-x)$ was assumed a contraction, $\vec{1} + R_x(\lambda)(x-y)$ has an inverse given by its Neumann series, \ref{NeumannSeries}, so
\begin{align*}
R_y(\lambda) &= \big(\vec{1} - R_x(\lambda)(y-x)\big)^{-1} R_x(\lambda) \\
&= \sum_{n=0}^\infty \big(R_x(\lambda)(y-x)\big)^n R_x(\lambda).
\end{align*}
The norm estimate is also given by \ref{NeumannSeries}:
\begin{align*}
\norm{R_y(\lambda)} &\leq \norm{\big(\vec{1} - R_x(\lambda)(y-x)\big)^{-1}}\norm{R_x(\lambda)} \\
&\leq \frac{1}{1 - \norm{R_x(\lambda)(y-x)}}\norm{R_x(\lambda)} \\
&\leq \frac{1}{1 - \norm{R_x}\,\norm{(\lambda)(y-x)}}\norm{R_x(\lambda)} \\
&= \frac{1}{\norm{R_x(\lambda)}^{-1} - \norm{(\lambda)(y-x)}}.
\end{align*}
\end{proof}

\subsubsection{Properties of the spectrum}

\begin{proposition}
Let $A$ be a Banach algebra and $x\in A$. Then $\spec(x)\neq \emptyset$.
\end{proposition}
\begin{proof}
Assume, towards a contradiction, that $\res(x) = \C$. Then the resolvent norm $\lambda\mapsto \norm{R_x(\lambda)}$ is an entire function by \ref{derivativePseudoresolvent}. By \ref{secondNeumannSeries} we have $\lim_{|\lambda|\to\infty}\norm{R_x(\lambda)} = 0$. By Liouville's theorem \ref{liouvilleTheoremAnalysis}, we have that $\norm{R_x(\lambda)}$ is identically zero.

Now we have
\[ 1 = \norm{\vec{1}} = \norm{R_x(\lambda)(\lambda-x)} \leq \norm{R_x(\lambda)}\,\norm{\lambda - x} = 0. \]
This is a contradiction.
\end{proof}
\begin{corollary}[Gelfand-Mazur] \label{GelfandMazur}
Let $A$ be a unital complex Banach algebra. If every non-zero element is invertible, then $A=\C\cdot \vec{1}$.
\end{corollary}
\begin{proof}
Suppose $x\in A\setminus (\C\cdot\vec{1})$. Then $\spec(x) = \emptyset$, contradicting the theorem.
\end{proof}
In other words, $\C$ is the only normed complex division algebra.


\begin{proposition}[Spectral radius formula] \label{spectralRadiusFormula}
Let $A$ be a Banach algebra and $x\in A$. Then
\[ \spr(x) = \lim_{n\to\infty}\norm{x^n}^{1/n} = \inf_{n\in\N}\norm{x^n}^{1/n}. \]
\end{proposition}
\begin{proof}
The contraposition of (1) in \ref{secondNeumannSeries} gives that $\lambda\in\spec(x)$ implies $|\lambda| \leq \liminf_{n\to \infty}\norm{x^n}^{1/n}$. Thus $\spr(x) \leq \liminf_{n\to \infty}\norm{x^n}^{1/n}$.

If we can now prove $\limsup_{n\to\infty}\norm{x^n}^{1/n}\leq \spr(x)$, then
\[ \spr(x) \leq \inf_{n\in\N}\norm{x^n}^{1/n} \leq \liminf_{n\in\N}\norm{x^n}^{1/n} \leq \limsup_{n\in\N}\norm{x^n}^{1/n} \leq \spr(x), \]
which means all terms in the inequality are equal. As the liminf and limsup are equal, they are equal to the limit.

TODO prove $\limsup_{n\to\infty}\norm{x^n}^{1/n}\leq \spr(x)$.
\end{proof}



\subsection{Quasinilpotent operators}
\begin{definition}
Let $A$ be a Banach algebra and $x\in A$. If $\spec(x) = \{0\}$, then $x$ is called \udef{quasinilpotent}
\end{definition}
\url{https://www.jstor.org/stable/2042882?seq=1}
\url{https://www.researchgate.net/profile/Zbigniew-Slodkowski/publication/265547661_A_note_on_quasinilpotent_elements_of_a_Banach_algebra/links/5e7e8f94458515efa0b0fe83/A-note-on-quasinilpotent-elements-of-a-Banach-algebra.pdf?origin=publication_detail}

\url{https://www.cambridge.org/core/services/aop-cambridge-core/content/view/AC3CBD3000D16515D0BD83C07B703186/S0013091500015352a.pdf/finite_dimensionality_nilpotents_and_quasinilpotents_in_banach_algebras.pdf}

\url{https://www.cambridge.org/core/services/aop-cambridge-core/content/view/C8F26DDF45A29D689C726A29D8F0BC2A/S0017089500008429a.pdf/algebraic-ideals-of-semiprime-banach-algebras.pdf}

\begin{proposition} \label{nilpotentQuasinilpotent}
Every nilpotent element is quasinilpotent. The converse holds for finite elements in semisimple Banach algebras (TODO correct version of finite).
\end{proposition}
\begin{proof}
Let $x$ be a nilpotent element in a (unital) Banach algebra $A$.
By the spectral radius formula \ref{spectralRadiusFormula}, we have
\[ \spr(x) = \lim_{n\to\infty}\norm{x^n}^{1/n} = 0. \]
This implies $\spec(x) = \{0\}$.

Now assume $x$ a finite quasimilpotent element. Then $\dim(xAx) = n$ and so $x^2, \ldots x^{n+2}$ a linearly dependent and thus there exists a polynomial $p$ of degree at most $n+2$ such that $p(x) = 0$. We can factorise $p(x) = x^kq(x)$ where $q$ is some polynomial such that $q(0) \neq 0$ and $k\in \N$. Then by spectral mapping, we have that $\spec(q(x)) = q(\spec(x)) = q(\{0\}) \neq \{0\}$. Thus $q(x)$ is invertible and we have
\[ x^k = x^kq(x)q(x)^{-1} = 0\cdot q(x)^{-1} = 0. \]
This means $x$ is nilpotent.
\end{proof}

\section{Characters}
\begin{definition}
Let $A$ be a Banach algebra. A \udef{character} on $A$ is a non-zero algebra homomorphism $A\to\C$.
\end{definition}
In other words, a character on $A$ is a non-zero multiplicative linear functional $A\to \C$.
In particular, if $A$ is a real algebra, a character is still complex valued, but now  an $\R$-linear functional on $A$. 

\begin{lemma}
Let $A$ be a real Banach algebra. Let $\varphi$ be a character on $A$. Then
\[ \varphi \in \tdual{A} \iff \varphi = \overline{\varphi} \iff \varphi[A] \subset \R. \]
\end{lemma}

\begin{proposition} \label{charactersUnital}
Let $A$ be a Banach algebra and $\varphi$ a character on $A$, then $\varphi$ is continuous and
\begin{enumerate}
\item $\norm{\varphi} = 1 = \varphi(\vec{1})$ if $A$ is unital;
\item $\norm{\varphi}\leq 1$;
\item $\norm{\varphi} = 1$ if $A$ contains an approximate unit.
\end{enumerate}
\end{proposition}
\begin{proof}
(1) We prove that $\varphi$ is unital if $A$ is unital: As $\varphi(x) = \varphi(x\cdot\vec{1}) = \varphi(x)\varphi(\vec{1})$ for all $x\in A$ and $\varphi \neq 0$, it follows that $\varphi(\vec{1}) = 1$.

(2) If we can show $\norm{\tilde{\varphi}} \leq 1$, then $\norm{\varphi}\leq 1$ follows by \ref{DaggerMorphismProperties}. To this end suppose that for some $x\in \tilde{A}$, $|\tilde{\varphi}(x)|>\norm{x}$. Then $x-\tilde{\varphi}(x)$ is invertible by corollary \ref{spectrumCompact}. Thus
\[ 1 = \tilde{\varphi}(\vec{1}) = \tilde{\varphi}((x-\tilde{\varphi}(x))^{-1})\tilde{\varphi}(x-\tilde{\varphi}(x)) = \tilde{\varphi}((x-\tilde{\varphi}(x))^{-1})[\tilde{\varphi}(x)-\tilde{\varphi}(x)] = \tilde{\varphi}((x-\tilde{\varphi}(x))^{-1})\cdot 0 = 0 \]
which is a contradiction. Then $\norm{\tilde{\varphi}} \leq 1$ and thus $\norm{\varphi} \leq 1$.

(3) By \ref{boundedLinearMaps}, $\varphi$ is continuous. Let $\seq{e_\lambda}_{\lambda\in\Lambda}$ be an approximate unit.
Then, for all $x\in A$, we have
\[ \varphi(x) = \varphi(\lim_\lambda)\varphi(x\cdot e_\lambda) = \lim_\lambda \varphi(x)\cdot \varphi(e_\lambda). \]
Since $\varphi\neq 0$, we can take $x$ such that $\varphi(x)\neq 0$. Then
\[ 1 = \varphi(x)^{-1}\varphi(x) = \varphi(x)^{-1}\cdot\big(\lim_\lambda \varphi(x)\cdot \varphi(e_\lambda)\big) = \lim_\lambda \varphi(x)^{-1}\varphi(x)\cdot \varphi(e_\lambda) = \lim_\lambda \varphi(e_\lambda). \]
This implies $\sup_{\lambda}|\varphi(e_\lambda)| \geq 1$. Because $\norm{e_\lambda}\leq 1$ for all $\lambda\in\Lambda$, we have
\[ 1 \leq \sup_{\lambda}|\varphi(e_\lambda)| \leq \sup_{\lambda}\frac{|\varphi(e_\lambda)|}{\norm{e_\lambda}} \leq \norm{\varphi}. \]
The other inequality is given by (2).
\end{proof}


\subsection{Commutative Banach algebras}
\subsubsection{The character space}
\begin{definition}
Let $A$ be a commutative Banach algebra. The \udef{character space} (or \udef{(Gelfand) spectrum}) $\hat{A}$ is the set of characters on $A$, equipped with the weak-$*$ topology $\sigma^*(\widehat{A}, A)$.
\end{definition}

All elements of the Gelfand spectrum are continuous, by \ref{charactersUnital}. If $A$ is unital, then all characters are unital.

If $A$ is a real algebra, then
\[ \hat{A} = \setbuilder{\varphi|_A}{\varphi\in \widehat{A_\C}}. \]

\begin{lemma}
The weak-$*$ topology $\sigma^*(\widehat{A}, A)$ is the same as the the subspace topology derived from the weak-$*$ topology $\sigma^*(A^*, A)$ on the dual $A^*$.
\end{lemma}
\begin{proof}

\end{proof}

\begin{proposition}
Let $A$ be a commutative Banach algebra. Then the character space $\hat{A}$ is a locally compact Hausdorff space.

Also $\hat{A}$ compact if and only if $A$ unital.
\end{proposition}
\begin{proof}

\end{proof}

\begin{proposition} \label{commutativeSameSpectrum}
Let $A$ be  a  unital  Banach  algebra,  and  suppose  that $S\subseteq A$ is a subset  of  pairwise commuting elements.  Then there exists a unital commutative Banach subalgebra $C\subseteq A$ with $S\subseteq C$ such that
\[ \forall s\in S: \quad \spec_A(s) = \spec_C(s). \]
\end{proposition}
\begin{proof}
TODO
\end{proof}

\begin{lemma} \label{commutativeBanachAlgebraIdeals}
Let $A$ be a commutative unital Banach algebra and $\mathcal{J}$ is a maximal ideal. Then 
\begin{enumerate}
\item if $A$ is complex, then $A/\mathcal{J} \cong \C$;
\item if $A$ is real, then $A/\mathcal{J} \cong \R$ or $A/\mathcal{J} \cong \C$.
\end{enumerate}
\end{lemma}
\begin{proof}
(1) If $A$ is commutative, $A/\mathcal{J}$ is a field by TODO ref. It is also a unital Banach algebra (TODO), so $A/\mathcal{J} \cong \C$ by the Gelfand-Mazur theorem, \ref{GelfandMazur}.

(2) TODO
\end{proof}

\begin{proposition} \label{characterMaximalIdealsComplex}
Let $A$ be a complex unital commutative Banach algebra. Then we have a bijection
\[ \ker: \hat{A} \twoheadrightarrowtail \{\text{maximal ideals in $A$}\}: \varphi \mapsto \ker(\varphi).  \]
\end{proposition}
\begin{proof}
First we verify that for each character $\varphi$ the kernel is a maximal ideal. Indeed applying \ref{splittingMap} to $\varphi$ we get an isomorphism $A/\ker\varphi \cong \im\varphi = \C$, meaning $\ker(\varphi)$ has codimension 1 and thus is a maximal proper subspace. By \ref{kernelIsIdeal}, $\ker(\varphi)$ is an ideal.

To prove $\ker$ is injective: let $\ker(\varphi) = \ker(\psi)$. Take some $a\in A$, which we can uniquely write as $\lambda+x$, with $x\in\ker(\varphi) = \ker(\psi)$, as $A = \Span(\vec{1})\oplus \ker(\varphi)$. Then
\[ \varphi(a) = \varphi(\lambda\cdot\vec{1} + x) = \lambda\varphi(\vec{1}) + 0 = \lambda = \lambda\psi(\vec{1}) + 0 = \psi(\lambda\cdot\vec{1} + x) = \psi(a), \]
so $\varphi = \psi$.

For surjectivity, take a maximal ideal $\mathcal{J}$.
By \ref{commutativeBanachAlgebraIdeals}, $A/\mathcal{J}\cong \C$, so the quotient map $A\to A/\mathcal{J}\cong \C$ can be seen as a character with kernel $\mathcal{J}$.
\end{proof}

TODO characters in real Banach algebra.


\subsubsection{The Gelfand transform}
\begin{definition}
Let $A$ be a unital commutative Banach algebra. The \udef{Gelfand transform} of $A$ is the map
\[ \evalMap : A\to C(\hat{A}): x\mapsto \evalMap_x \]
where $\evalMap_x(\varphi) = \varphi(x)$ for all $x\in A, \varphi\in\hat{A}$.
\end{definition}
\begin{lemma} \label{GelfandTransformHomomorphism}
Let $A$ be a unital commutative Banach algebra with Gelfand transform $\evalMap : A\to C(\hat{A})$. Then
\begin{enumerate}
\item $\evalMap$ is well-defined, in the sense that $\hat{x} \in C(\hat{A})$;
\item $\evalMap$ is linear and multiplicative;
\item $\norm{\evalMap_{x}} = \spr(x) \leq \norm{x}$.
\end{enumerate}
Thus the Gelfand transform is a unital, norm-contractive Banach algebra homomorphism.
\end{lemma}
\begin{proof}
We prove in turn:
\begin{enumerate}
\item We have equipped $\hat{A}$ with the weak-$*$ topology. Then each $\hat{x}$ is continuous.
\item $\hat{x}(\lambda \varphi + \psi) = \lambda \varphi(x) + \psi(x) = \lambda\hat{x}(\varphi) + \hat{x}(\psi)$ and $\hat{x}(\varphi\psi) = \varphi(x)\psi(x) = \hat{x}(\varphi)\hat{x}(\psi)$.
\item For all $x\in A$:
\[ \norm{\hat{x}} = \sup_{\varphi\in\hat{A}}\left( \frac{|\varphi(x)|}{\norm{\varphi}} \right) = \sup_{\varphi\in\hat{A}}(|\varphi(x)|) = \spr(x) \leq \norm{x} \]
where we have used that $\norm{\varphi} = 1$ by \ref{charactersUnital}, $\spec(x) = \setbuilder{|\varphi(x)|}{\varphi\in\hat{A}}$ by \ref{spectrumFromSpectrum} and the inequality is from \ref{spectrumCompact}.
\end{enumerate}
\end{proof}



\begin{proposition} \label{spectrumFromSpectrum}
Let $A$ be a unital commutative Banach algebra and $x\in A$. Then
\[ \spec(x) = \setbuilder{\varphi(x)}{\varphi\in\hat{A}} = \hat{x}^{\imf}(\hat{A}). \]
\end{proposition}
TODO: introduce notation $\hat{x}$ earlier?
\begin{proof}
Suppose $\lambda = \varphi(x)$ for some $\varphi\in\hat{A}$. Then $x-\lambda\in\ker\varphi$, which is a proper ideal.
So $x-\lambda \notin\GL(A)$ and $\lambda \in\spec(x)$.

Suppose $\lambda \in \spec(x)$. Because $x-\lambda$ is non-invertible, the ideal generated by it is proper, by \ref{nonInvertibleGeneratedIdeals}, and $x-\lambda$ lies in a maximal ideal, by \ref{idealLatticeCoatomic}. By \ref{characterMaximalIdealsComplex}, this means $x-\lambda \in \ker\varphi$ for some $\varphi\in\hat{A}$ and then $\lambda = \varphi(x)$.
\end{proof}

\section{Tensor products}
\subsection{Algebraic tensor product}
\begin{proposition}
Let $A$ be a Banach algebra, $a\in A$ and $p\in A$ an idempotent. Then
\begin{enumerate}
\item $e^{p\otimes a} = (\vec{1}-p)\otimes \vec{1} + p\otimes e^a$;
\item $e^{a\otimes p} = \vec{1}\otimes (\vec{1}-p) + e^a\otimes p$.
\end{enumerate}
In particular, $e^{\vec{1}\otimes a} = \vec{1}\otimes a$ and $e^{a\otimes \vec{1}} = e^a\otimes a$.
\end{proposition}
\begin{proof}
We calculate
\begin{align*}
e^{p\otimes a} &= \sum_{k=0}^\infty \frac{(p\otimes a)^k}{!k} \\
&= \sum_{k=0}^\infty \frac{p^k\otimes a^k}{!k} \\
&= \vec{1}\otimes \vec{1} + \sum_{k=1}^\infty \frac{p\otimes a^k}{!k} \\
&= \vec{1}\otimes \vec{1} + p\otimes\left(\sum_{k=1}^\infty \frac{a^k}{!k}\right) \\
&= \vec{1}\otimes \vec{1} + p\otimes\left(\sum_{k=0}^\infty \frac{a^k}{!k}\right) - p\otimes \vec{1} \\
&= (\vec{1} - p)\otimes \vec{1} + p\otimes e^a,
\end{align*}
where we have used the continuity of $p\otimes -$ (which is bounded by $\norm{p}$).
\end{proof}
\begin{corollary}
Let $A$ be a Banach algebra and $a,b\in A$. Then $e^a\otimes e^b = e^{a\otimes \vec{1} + \vec{1}\otimes b}$.
\end{corollary}
\begin{proof}
We calculate
\[ e^a\otimes e^b = (e^a\otimes \vec{1})(\vec{1}\otimes e^b) = e^{a\otimes \vec{1}}e^{\vec{1}\otimes b} = e^{a\otimes \vec{1} + \vec{1}\otimes b}, \]
using \ref{factorisationCommutingExponentials} with the fact that $a\otimes \vec{1}$ and $\vec{1}\otimes b$ commute.
\end{proof}

