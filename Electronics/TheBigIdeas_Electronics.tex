\documentclass{report}
\input{../preamble}

\title{Some of the Big Ideas in Electronics}
\author{Joseph Cunningham}
\date{}

\begin{document}
\maketitle
\tableofcontents

tie inputs high / low: good practice

capacitors at input / output to reduce noise

timing with RC and Schmidt trigger

chopping optics

Kron reduction (from Schur complement)

\part{The circuit formalism}
\setcounter{chapter}{0} % Reset chapter counter
\input{circuitFormalism}

\part{Analogue electronics}
\chapter{Oscillators}
\section{Design goals}
\begin{itemize}
\item output voltage swing;
\item drive capability: typically input capacitance of at least one mixer and one divider;
\item phase noise;
\item output waveform: ideally square;
\item supply insensitivity;
\item power dissipation.
\end{itemize}

\part{Introducing some basic ideas}
heat conduction / thermal resistance

ground

decibels


\chapter{Different types of circuits}
\section{Basic circuits}
\subsection{Wires}
\subsection{Series circuits}
\subsection{Parallel circuits}
\section{Integrated circuits}
\section{Circuit boards}
\section{Inside actual electronic devices}
\chapter{Describing sources: AC / DC}

\chapter{Transients}
\chapter{The bare minimum of practical tips}
\section{Measuring with a multimeter}
\section{Mains power}

\part{Analog electronics}
\chapter{Ideal linear components}
\section{Voltage and current sources}
RMS / peak
\section{Resistors}
\subsection{Ohm's law}
\subsection{Potentiometers}
\subsection{Resistors in circuits}
\subsubsection{Resistors in parallel}
\subsubsection{Resistors in series}
\paragraph{Voltage divider}
10 percent rule (of total load current when multiload)
\section{Capacitors}
\subsection{Capacitors in circuits}
\subsubsection{Capacitors in parallel}
\subsubsection{Capacitors in series}
\paragraph{Capacitive divider}
\subsection{Capacitive reactance}
\subsection{Quality factor}
\section{Inductors}
\subsection{Inductors in circuits}
\subsubsection{Inductors in parallel}
\subsubsection{Inductors in series}
\subsection{Inductive reactance}
\subsection{Quality factor}
\subsection{Unwanted coupling: spikes}
\section{Transformers}
\section{Crystals and resonators}

\chapter{Analysis of linear circuits}
Miller effect??
\section{Kirchhoff's laws}
\subsection{Voltage law \textit{or} loop rule}
\subsection{Current law \textit{or} junction rule}
\subsection{Result: systems of linear equations}
\section{Superposition principle}
\section{Thévenin's and Norton's theorems}
\subsection{Thévenin's theorem}
\subsection{Norton's theorem}
\subsection{Nodal analysis}
\subsection{Mesh analysis}
\section{Power in AC circuits}
Apparent power, real power, reactive power
\subsection{Power factor}
\section{Circuits with sinusoidal sources}
\section{Circuits with periodic non-sinusoidal sources}

\chapter{Elements of circuits}
\section{Resonance}
\subsection{Series-resonant circuits}
\subsubsection{LC}
\subsubsection{LRC}
\subsubsection{Bandwidth}
\subsubsection{Quality factor}
\subsection{Parallel-resonant (antiresonant) circuits}
More common
\subsubsection{LC}
\subsubsection{LRC}
\subsubsection{Bandwidth}
\subsubsection{Quality factor}
\section{Input and output impedance}
\section{Filters}
\subsection{Passive filter}
\subsubsection{Low-pass filters}
\subsubsection{High-pass filters}
\subsubsection{Bandpass filters}
\subsubsection{Notch filters}
\subsubsection{Speaker crossover network}
\subsection{Active filters}
\subsubsection{Low-pass RC active audio filter}
\subsubsection{High-pass RC active audio filter}
\section{RC ripple filter}
\section{Attenuators}
\section{Coupling and DC blocking}
\section{Bypassing}
\section{Arc suppression}
\section{Switching regulators}


\chapter{Non-ideal components and models}
\section{Wires}
\begin{itemize}
\item Not breaking
\item Not overheating
\item Clean signal
\end{itemize}
Wire vs cable
\subsection{Non-ideal behaviour}
\subsubsection{Wire resistance}
\subsubsection{Wire inductance}
\subsubsection{Skin effect}
\subsubsection{Cable impedance}
\paragraph{Inductance}
\paragraph{Capacitance}
\paragraph{Impedance matching}
\subparagraph{Circuit solutions}
\subsection{Forms of wire}
\subsubsection{Solid core wire}
TODO table of wire gauges.
\subsubsection{Stranded wire}
\subsubsection{Braided wire}
\subsection{Kinds of wires}
\begin{itemize}
\item Pretinned solid bus wire
\item Speaker wire
\item Magnet wire
\end{itemize}
\subsection{Kinds of cables}
\begin{itemize}
\item Paired cable
\item Twisted pair
\item Unbalanced coaxial
\item Dual coaxial
\item Balanced coaxial
\item Shielded twin lead
\item Ribbon
\item Multiple conductor
\item Fiberoptic
\item \SI{300}{\ohm}
\end{itemize}
\subsection{Kinds of connectors}
\subsection{Symbols}
\subsubsection{Wiring}
\subsubsection{Connectors}
\section{Switches}
\begin{itemize}
\item Wear: depends on speed (arcing)
\end{itemize}
\subsection{Kinds of switch}
\subsection{Relays}
\subsubsection{Kinds of relays}
\subsubsection{Relay driver circuit}
\subsection{Symbols for switches}
\section{Resistors}
\subsection{Realistic model}
\subsection{Characteristics of real capacitors}
\subsubsection{Tolerance}
\subsubsection{Power rating}
power rating twice maximum
\subsubsection{Temperature coefficient of resistance}
\subsection{Resistor labels}
\subsection{Types of resistors}
Groups:
\begin{itemize}
\item General purpose
\item Precision
\item Semiprecision
\item Power resistors
\end{itemize}
\subsection{Variable resistors}
Rheostats, potentiometers, trimmers
\subsubsection{Resistance taper}
\subsubsection{Types}
\section{Capacitors}
\subsection{Realistic model}
Leakage, equivalent series resistance, equivalent series inductance, dielectric absorption
\subsection{Characteristics of real capacitors}
\subsubsection{Dissipation factor}
\subsubsection{Insulation resistance}
\subsubsection{Dissipation factor or tangent delta ($\tan \delta$)}
\subsection{Types of capacitors}
\section{Inductors}
\subsection{Geometries of inductor configurations}
\subsubsection{Simple coil}
\subsubsection{Multilayer coil}
\subsubsection{Spiral coil}
\subsubsection{Toroidal coil}
\subsection{Realistic model}
\subsection{Inductor specifications}
\subsection{Types of inductors}
\subsection{Reading inductor labels}
\subsubsection{5-band inductor codes}
\subsubsection{4-band inductor codes}
\subsubsection{SMD inductance codes}
\section{Transformers}
\section{Batteries}
\begin{itemize}
\item Size
\item Power
\item Voltage
\item Current capacity
\item Rechargeability
\end{itemize}
\subsection{Battery capacity}
\subsection{Internal resistance}
\subsection{Combining batteries}
\subsection{Battery packages}
\subsection{Primary batteries}
\subsection{Secondary batteries}

\section{Ground}
Symbols for ground

Ground loops (and single-point ground; ground bus)

separate digital and analog grounds
\section{Power supplies}
\section{Fuses and circuit breakers}

\chapter{Active components}
\section{Semiconductor physics}
\section{Diodes}
There is a \udef{built-in potential} across the junction:
\[ \phi_0 = \phi_T \ln \left[\frac{N_AN_D}{n_i^2}\right] \]
where $\phi_T$ is the thermal voltage
\[ \phi_T = \frac{kT}{q} = \SI{26}{mV} \qquad \text{at room temperature.} \]
\subsection{Static behaviour: a simple model}
Ideal diode equation
\[ I_D = I_S(e^{V_D/ \phi_T} - 1) \]
\subsection{Dynamic, or transient, behaviour}
\subsubsection{Depletion-region capacitance}
\paragraph{Abrupt junction}
\[ Q_j = A_D \sqrt{\left(2\epsilon_{si}q \frac{N_AN_D}{N_A+N_D}\right)(\phi_0 - V_D)} \]
Width
\[ W_j = W_2 - W_1 = A_D \sqrt{\left(\frac{2\epsilon_{si}}{q} \frac{N_A+N_D}{N_AN_D}\right)(\phi_0 - V_D)} \]
\[ \frac{W_2}{-W_1} = \frac{N_A}{N_D} \]
\[ E_j = A_D \sqrt{\left(\frac{2q}{\epsilon_{si}} \frac{N_AN_D}{N_A+N_D}\right)(\phi_0 - V_D)} \]
\begin{align*}
C_j &= \od{Q_j}{V_D} = A_D \sqrt{\left(\frac{\epsilon_{si}q}{2} \frac{N_AN_D}{N_A+N_D}\right)(\phi_0 - V_D)^{-1}} \\
&= \frac{C_{j0}}{\sqrt{1-V_D/ \phi_0}}
\end{align*}
\paragraph{Linearly graded junction}
\[ C_j = \frac{C_{j0}}{(1-V_D/ \phi_0)^m} \]
where $m$ is the \udef{grading coefficient}.
\paragraph{Large-signal depletion-region capacitance.}
\subsubsection{Excess minority carrier charge}
\subsection{Secondary effect: a more accurate model}
\subsubsection{Breakdown}
\paragraph{Avalanche breakdown.} This occurs when carriers crossing the depletion-region are accelerated enough to create electron-hole pairs when they collide with silicon atoms.
\paragraph{Zener breakdown.}
\subsubsection{Emission coefficient}
\section{Thyristors and triacs}
\section{Bipolar transistors (BJTs)}
\section{Junction field effect transistors (FETs)}
\section{Metal oxide field effect transistors (MOSFETs)}
Advantages:
\begin{itemize}
\item Few parasitic effects
\item Simple planar manufacturing process
\end{itemize}
\subsection{Static behaviour}
\subsubsection{Cut-off region}
If we apply a positive voltage to the gate, a depletion region forms
\[ W_d = \sqrt{\frac{2\epsilon_{si}\phi}{qN_A}} \]
\[ Q_d = \sqrt{2qN_A\epsilon_{si}\phi} \]
When the voltage equals twice the \udef{Fermi potential}
\[ \phi_F = \phi_T \ln \left(\frac{N_A}{n_i}\right) \approx -\SI{0.3}{V} \]
\udef{strong inversion} occurs. The depletion layer no longer grows, but a layer of electrons forms.
\[ Q_B = \sqrt{2qN_A\epsilon_{si}(|-2\phi_F + V_{SB}|)} \]

We determine the threshold voltage empirically and use
\[ V_T = V_{T0} + \gamma(\sqrt{|V_{SB} - 2\phi_F|}-\sqrt{|2\phi_F|}) \]
with $\gamma$ the \udef{body effect coefficient}.

\subsubsection{Ohmic region}
Charge per unit area
\[ Q_i(x) = -C_{ox}[V_{GS}-V(x) - V_T] \]
Current flow:
\[ I_D = -v_n(x)Q_i(x)W \]
where the electron velocity is related to the mobility $\mu_n$
\[ v_n = -\mu_n \xi(x) = \mu_n \od{V}{x} \]
Combining we get
\[ I_D \diff{x} = \mu_nC_{ox}W(V_{GS}-V-V_T)\diff{V} \]
Integrating over length of channel $L$:
\begin{align*}
I_D &= k'_n \frac{W}{L}\left[(V_{GS}-V_T)V_{DS} - \frac{V_{DS}^2}{2}\right] \\
&= k_n\left[(V_{GS}-V_T)V_{DS} - \frac{V_{DS}^2}{2}\right]
\end{align*}
For small $V_{DS}$ we can ignore the quadratic term. Then the relation between $V_{DS}$ and $I_D$ is linear.

\subsubsection{Saturation region}
When
\[ V_{GS} - V_{DS} \leq V_T \]
\[ I_D = \frac{k'_n}{2}\frac{W}{L}(V_{GS}-V_T)^2 \]

\subsection{Some secondary effects}
\subsubsection{Channel length modulation}
\[ I_D = I'_D(1+\lambda V_{DS}) \]
\subsubsection{Velocity saturation}
\[ v = \begin{cases}
\frac{\mu_n \xi}{1 + \xi/\xi_c} \quad (\xi \leq \xi_c) \\
v_{sat} \qquad (\xi \geq \xi_c)
\end{cases} \]
More time in saturation for short devices.

$I_{DSAT}$ depends linearly on $V_GS$.

\paragraph{A simpler model}
\subsubsection{Threshold variations}
\subsubsection{Hot-carrier effects}
\subsubsection{CMOS latchup}
\subsection{Dynamic behaviour}
\subsubsection{Capacitive device model}
\paragraph{MOS structure capacitances}
\paragraph{Channel capacitances}
\paragraph{Junction capacitances}
\subsubsection{Source-drain resistance}

\subsection{Comparison NMOS and PMOS}
\begin{itemize}
\item Velocity saturation less pronounced in PMOS.
\end{itemize}

\subsection{SPICE models}

\subsection{Process variations}
\subsection{Technology scaling}



\section{Insulated-gate bipolar transistors (IGBTs)}

\chapter{Analogue integrated circuits}
large analog ICs not very abstractable
\section{The ideal op-amp}
\section{The practical op-amp}
\section{Comparators}
\section{Voltage references}

\chapter{Classic circuits}
\section{Rectifiers}
\section{Switching regulators}
\subsection{Buck converter}
\subsection{Boost converter}
\subsection{Buck-boost converter}
\section{Oscillators}
\subsection{Simple relaxation oscillator}
\subsection{Op-amp oscillator}
\subsection{Colpits oscillator}
\subsection{Hartley oscillator}
\section{Radio circuits}
\subsection{Short-wave receiver}
\subsection{RF oscillator / transmitter}

\chapter{Filters}
\chapter{Oscillators and timers}
\chapter{Voltage regulation and power conversion}
\chapter{PCB design tips}

\part{Digital electronics}
\chapter{Introduction}
\section{Manufacturing CMOS integrated circuits}
\section{Design rules}
\section{Packaging integrated circuits}

\chapter{Boolean algebra and gates}
\section{Algebraic properties}
\section{Axiomatic definition}
\section{Basic theorems}
\section{Canonical and standard forms}
\section{Simplification of Boolean functions}
\subsection{Karnaugh maps}
\subsection{Don't-care conditions}
\subsection{The tabulation method}
\section{Time evolution and sequential logic}
\chapter{Some ideal digital components}
\section{Combinational logic components}
\subsection{Carry-ripple adders}
\subsection{Carry-look-ahead adders}
\subsection{Adders and subtractors}
\subsection{Logic unit and arithmetic-logic unit}
\subsection{Decoders}
\subsection{Selectors}
\subsection{Buses}
\subsection{Priority encoders}
\subsection{Magnitude comparators}
\subsection{Shifters and rotators}
\subsection{Read-Only memories}
\subsection{Programmable logic arrays}
\section{Sequential logic components}
\subsection{Latches}
\subsubsection{SR-latch}
\subsubsection{Gated SR-latch}
\subsubsection{Gated D-latch}
\subsection{Flip-flops}
Flip-flop types
\subsection{Analysis of sequential logic}
\section{Storage components}
\subsection{Registers}
\subsubsection{Shift registers}
\subsection{Counters}
\subsubsection{BCD counter}
\subsubsection{Asynchronous counter}
\subsection{Random-access memories (RAMs)}

\chapter{Designing digital integrated circuits}
Divide-and-conquor: hierarchy, but clocks and power defy hierarchy -> global and external issues

die, wafer, masks
\section{Design parameters}
\subsection{Cost}
The cost of an integrated circuit can be split into fixed costs, such as the cost of designing the IC, indirect costs for general company overhead and variable costs which is the cost directly attributable to the manufactured product:
\[ \text{cost per IC} = \text{variable cost per IC} + \left(\frac{\text{fixed cost}+\text{indirect cost}}{volume}\right)\]

The fixed cost is strongly dependent on complexity and its impact is much more pronounced for small-volume products.

The variable cost is made up of the cost of the die plus the cost of testing and packaging, where the cost of the die is given by
\[ \text{cost of die} = \frac{\text{cost of wafer}}{\text{dies per wafer}\times \text{die yield}}. \]
The die yield gives the proportion of dies that do not have a defect and, assuming defects are randomly distributed, can be expressed as
\[ \text{die yield} = \left(1+ \frac{\text{defects per unit area}\times \text{die area}}{\alpha}\right)^{-\alpha} \]
where $\alpha$ is a parameter that depends on the complexity of the manufacturing process and is roughly proportional to the number of masks. For modern CMOS processes $\alpha \approx 3$. One can expect about 0.5 to 1 defects per \si{cm^2}, but this depends strongly on the maturity of the process.

Using $\alpha = 3$, we see that
\[ \text{cost of die} \sim (\text{die area})^4 \]
so the die area is a prime metric for the cost.

\subsection{Performance}
Obviously we want our ICs to be as fast as possible.

For processors the speed depends on both the architecture of the processor (e.g. how many commands it can execute in parallel) and its clock speed.

For individual gates the performance is determined by the \textbf{propagation delay} $t_p$ which is how quickly the output responds to changes in input. In other words it is the delay experienced by a signal travelling through the gate. This delay actually also depends on the input signal. In particular its slope (see figure TODO). For that reason we introduce the quantities $t_r$ and $t_f$ which are the rise and fall times.

\subsubsection{Ring oscillators}
The de facto way to measure delays for a given circuit technology is with a ring oscillator, which is an odd number (usually at least five are needed) of inverters put back-to-back in a loop. This configuration has no stable state and thus will oscillate. The frequency of the oscillation is proportional to the propagation delay.

This method is primarily useful to compare different technologies, not to determine actual values for $t_p$. The situation is fairly ideal with minimal load. In actual circuits $t_p$ may be expected to be 50 to 100 times slower. 

\subsection{Functionality and robustness}
In real life nothing is perfect, but the output of an integrated circuits must be within an acceptable range, even if the conditions it is deployed in are not ideal.

A good design accounts for variations in the manufacturing process and must also be able to deal with \textit{noise}, which is unexpected variation in the signal. Noise can also easily be generated within the IC if the input is rapidly changing for example. A good design will not introduce too much noise itself.
\paragraph{Noise margins} are the ranges that the input voltage has to be in to be interpreted as either low or high. Ideally these are as large as possible.
\paragraph{Noise immunity} refers to the ability to function correctly in the presence of noise. Many digital circuits with low noise margins have very good noise immunity because the reject the noise.
\paragraph{Regenerative property.} If every gate adds a bit of noise, the signal will eventually be lost. Thus an important property of gates is the ability to bring back the signal to nominal levels after a disturbance.
\paragraph{Directivity.} We in general want gates to be \textit{unidirectional}: changes in output should not impact the input. In practice there will always be some capacitive coupling for instance.
\paragraph{Fan-out} refers to the number of gates attached to the output. With large fan-out, the added load can reduce performance. For this reason library components often specify a maximum fan-out.

The added load can also affect the logic output levels. In order to minimise this effect, the input resistance is made as large as possible while keeping the output resistance small.

\paragraph{Fan-in} is the number of inputs. More inputs means more complexity.

\subsection{Power and energy consumption}
Power considerations are very important. This was the main limiting factor for vacuum tube and bipolar technologies. It is also the reason CMOS is much more popular than pure NMOS (TODO ?), although now even CMOS is reaching its limits in this regard.

Power and energy consumption can be measured with different metrics. Obviously we can measure peak and average power dissipation, $P_\text{peak}$ and $P_\text{av}$. It is also useful to decompose power consumption into \textit{static} and \textit{dynamic} components. The higher the number of switching events, the higher the dynamic power consumption.

The propagation delay and power consumption of a gate are related: the propagation delay is mostly determined by the speed at which a given amount of energy can be stored in the gate capacitors. For a given technology and gate topology, the product of the power consumption and propagation delay is generally a constant, called the \udef{power-delay product (PDP)}. This is simply the energy consumed per switching event and is a good quality measure for a switching device.

\section{Design methodologies}
\subsection{Custom circuit design}
\subsection{Cell-based}
\subsubsection{Standard cell}
\subsubsection{Compiled cell}
\subsubsection{Macro cells}
\subsection{Array-based}
\subsubsection{Prediffused (or mask-programmable) arrays}
\subsubsection{Prewired arrays (FPGAs)}
\section{Coping with interconnect}
\section{Timing issues}
\subsection{Timing classification}

\chapter{Designing gates and components}
\section{Transistor-transistor logic (TTL)}
\section{CMOS technology}
\subsection{The CMOS inverter}
\subsection{Combinational logic in CMOS}
\subsection{Sequential logic in CMOS}

\chapter{Processors and microcontrollers}
Intel 4004 in 1972 and 8080 in 1974 (IBM computers? Instruction set)

\part{Electric devices}
\chapter{Motors and actuators}
\chapter{Audioelectronics}
\chapter{Optoelectronics}
\chapter{Radio engineering}

\part{Multiphase systems}


\part{General design practices}
\section{Precision and low noise}


\part{Simulation}
\section{Spice}
\section{Verilog}

\part{Tools and accessories}
\input{tools}

\appendix

\chapter{Symbols and constants}

\chapter{Formula reference}

\chapter{Bibliography}

The Art of Electronics

The circuit designers handbook, williams

Digital integrated circuits, a design perspective; Rabaey, Chandrakasan and Nikolic

Electrische energie; Ronnie Belmans, Geert Deconinck, Johan Driesen

\begin{enumerate}
\item Analog circuits:
\begin{itemize}
\item \url{https://www.allaboutcircuits.com/textbook/}
\end{itemize}
\end{enumerate}



\end{document}